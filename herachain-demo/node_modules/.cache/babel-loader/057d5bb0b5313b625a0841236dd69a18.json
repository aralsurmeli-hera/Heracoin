{"ast":null,"code":"const BufferList = require('bl/BufferList');\n\nconst Reader = require('it-reader');\n\nmodule.exports = function LteReader(source) {\n  const reader = Reader(source);\n  let overflow;\n  const lteReader = {\n    [Symbol.asyncIterator]: () => lteReader,\n\n    async next(bytes) {\n      if (overflow) {\n        let value;\n\n        if (bytes == null || overflow.length === bytes) {\n          value = overflow;\n          overflow = null;\n        } else if (overflow.length > bytes) {\n          value = overflow.shallowSlice(0, bytes);\n          overflow = overflow.shallowSlice(bytes);\n        } else if (overflow.length < bytes) {\n          const {\n            value: nextValue,\n            done\n          } = await reader.next(bytes - overflow.length);\n\n          if (done) {\n            throw Object.assign(new Error(`stream ended before ${bytes - overflow.length} bytes became available`), {\n              code: 'ERR_UNDER_READ'\n            });\n          }\n\n          value = new BufferList([overflow, nextValue]);\n          overflow = null;\n        }\n\n        return {\n          value\n        };\n      }\n\n      return reader.next(bytes);\n    },\n\n    async nextLte(bytes) {\n      let {\n        done,\n        value\n      } = await lteReader.next();\n      if (done) return {\n        done\n      };\n      if (value.length <= bytes) return {\n        value\n      };\n      value = BufferList.isBufferList(value) ? value : new BufferList(value);\n\n      if (overflow) {\n        overflow.append(value.shallowSlice(bytes));\n      } else {\n        overflow = value.shallowSlice(bytes);\n      }\n\n      return {\n        value: value.shallowSlice(0, bytes)\n      };\n    },\n\n    return() {\n      return reader.return();\n    }\n\n  };\n  return lteReader;\n};","map":{"version":3,"names":["BufferList","require","Reader","module","exports","LteReader","source","reader","overflow","lteReader","Symbol","asyncIterator","next","bytes","value","length","shallowSlice","nextValue","done","Object","assign","Error","code","nextLte","isBufferList","append","return"],"sources":["/Users/austinhatch/Documents/GitHub/Heracoin/herachain-demo/node_modules/it-tar/lte-reader.js"],"sourcesContent":["const BufferList = require('bl/BufferList')\nconst Reader = require('it-reader')\n\nmodule.exports = function LteReader (source) {\n  const reader = Reader(source)\n  let overflow\n  const lteReader = {\n    [Symbol.asyncIterator]: () => lteReader,\n    async next (bytes) {\n      if (overflow) {\n        let value\n        if (bytes == null || overflow.length === bytes) {\n          value = overflow\n          overflow = null\n        } else if (overflow.length > bytes) {\n          value = overflow.shallowSlice(0, bytes)\n          overflow = overflow.shallowSlice(bytes)\n        } else if (overflow.length < bytes) {\n          const { value: nextValue, done } = await reader.next(bytes - overflow.length)\n          if (done) {\n            throw Object.assign(\n              new Error(`stream ended before ${bytes - overflow.length} bytes became available`),\n              { code: 'ERR_UNDER_READ' }\n            )\n          }\n          value = new BufferList([overflow, nextValue])\n          overflow = null\n        }\n        return { value }\n      }\n      return reader.next(bytes)\n    },\n    async nextLte (bytes) {\n      let { done, value } = await lteReader.next()\n      if (done) return { done }\n      if (value.length <= bytes) return { value }\n      value = BufferList.isBufferList(value) ? value : new BufferList(value)\n      if (overflow) {\n        overflow.append(value.shallowSlice(bytes))\n      } else {\n        overflow = value.shallowSlice(bytes)\n      }\n      return { value: value.shallowSlice(0, bytes) }\n    },\n    return () {\n      return reader.return()\n    }\n  }\n  return lteReader\n}\n"],"mappings":"AAAA,MAAMA,UAAU,GAAGC,OAAO,CAAC,eAAD,CAA1B;;AACA,MAAMC,MAAM,GAAGD,OAAO,CAAC,WAAD,CAAtB;;AAEAE,MAAM,CAACC,OAAP,GAAiB,SAASC,SAAT,CAAoBC,MAApB,EAA4B;EAC3C,MAAMC,MAAM,GAAGL,MAAM,CAACI,MAAD,CAArB;EACA,IAAIE,QAAJ;EACA,MAAMC,SAAS,GAAG;IAChB,CAACC,MAAM,CAACC,aAAR,GAAwB,MAAMF,SADd;;IAEhB,MAAMG,IAAN,CAAYC,KAAZ,EAAmB;MACjB,IAAIL,QAAJ,EAAc;QACZ,IAAIM,KAAJ;;QACA,IAAID,KAAK,IAAI,IAAT,IAAiBL,QAAQ,CAACO,MAAT,KAAoBF,KAAzC,EAAgD;UAC9CC,KAAK,GAAGN,QAAR;UACAA,QAAQ,GAAG,IAAX;QACD,CAHD,MAGO,IAAIA,QAAQ,CAACO,MAAT,GAAkBF,KAAtB,EAA6B;UAClCC,KAAK,GAAGN,QAAQ,CAACQ,YAAT,CAAsB,CAAtB,EAAyBH,KAAzB,CAAR;UACAL,QAAQ,GAAGA,QAAQ,CAACQ,YAAT,CAAsBH,KAAtB,CAAX;QACD,CAHM,MAGA,IAAIL,QAAQ,CAACO,MAAT,GAAkBF,KAAtB,EAA6B;UAClC,MAAM;YAAEC,KAAK,EAAEG,SAAT;YAAoBC;UAApB,IAA6B,MAAMX,MAAM,CAACK,IAAP,CAAYC,KAAK,GAAGL,QAAQ,CAACO,MAA7B,CAAzC;;UACA,IAAIG,IAAJ,EAAU;YACR,MAAMC,MAAM,CAACC,MAAP,CACJ,IAAIC,KAAJ,CAAW,uBAAsBR,KAAK,GAAGL,QAAQ,CAACO,MAAO,yBAAzD,CADI,EAEJ;cAAEO,IAAI,EAAE;YAAR,CAFI,CAAN;UAID;;UACDR,KAAK,GAAG,IAAId,UAAJ,CAAe,CAACQ,QAAD,EAAWS,SAAX,CAAf,CAAR;UACAT,QAAQ,GAAG,IAAX;QACD;;QACD,OAAO;UAAEM;QAAF,CAAP;MACD;;MACD,OAAOP,MAAM,CAACK,IAAP,CAAYC,KAAZ,CAAP;IACD,CAzBe;;IA0BhB,MAAMU,OAAN,CAAeV,KAAf,EAAsB;MACpB,IAAI;QAAEK,IAAF;QAAQJ;MAAR,IAAkB,MAAML,SAAS,CAACG,IAAV,EAA5B;MACA,IAAIM,IAAJ,EAAU,OAAO;QAAEA;MAAF,CAAP;MACV,IAAIJ,KAAK,CAACC,MAAN,IAAgBF,KAApB,EAA2B,OAAO;QAAEC;MAAF,CAAP;MAC3BA,KAAK,GAAGd,UAAU,CAACwB,YAAX,CAAwBV,KAAxB,IAAiCA,KAAjC,GAAyC,IAAId,UAAJ,CAAec,KAAf,CAAjD;;MACA,IAAIN,QAAJ,EAAc;QACZA,QAAQ,CAACiB,MAAT,CAAgBX,KAAK,CAACE,YAAN,CAAmBH,KAAnB,CAAhB;MACD,CAFD,MAEO;QACLL,QAAQ,GAAGM,KAAK,CAACE,YAAN,CAAmBH,KAAnB,CAAX;MACD;;MACD,OAAO;QAAEC,KAAK,EAAEA,KAAK,CAACE,YAAN,CAAmB,CAAnB,EAAsBH,KAAtB;MAAT,CAAP;IACD,CArCe;;IAsChBa,MAAM,GAAI;MACR,OAAOnB,MAAM,CAACmB,MAAP,EAAP;IACD;;EAxCe,CAAlB;EA0CA,OAAOjB,SAAP;AACD,CA9CD"},"metadata":{},"sourceType":"script"}
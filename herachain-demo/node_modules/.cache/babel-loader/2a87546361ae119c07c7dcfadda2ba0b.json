{"ast":null,"code":"var onimport = function (i, result) {\n  result.push('import \"' + i + '\";', '');\n  return result;\n};\n\nvar onfield = function (f, result) {\n  var prefix = f.repeated ? 'repeated' : f.required ? 'required' : 'optional';\n  if (f.type === 'map') prefix = 'map<' + f.map.from + ',' + f.map.to + '>';\n  if (f.oneof) prefix = '';\n  var opts = Object.keys(f.options || {}).map(function (key) {\n    return key + ' = ' + f.options[key];\n  }).join(',');\n  if (opts) opts = ' [' + opts + ']';\n  result.push((prefix ? prefix + ' ' : '') + (f.map === 'map' ? '' : f.type + ' ') + f.name + ' = ' + f.tag + opts + ';');\n  return result;\n};\n\nvar onmessage = function (m, result) {\n  result.push('message ' + m.name + ' {');\n  if (!m.options) m.options = {};\n  onoption(m.options, result);\n  if (!m.enums) m.enums = [];\n  m.enums.forEach(function (e) {\n    result.push(onenum(e, []));\n  });\n  if (!m.messages) m.messages = [];\n  m.messages.forEach(function (m) {\n    result.push(onmessage(m, []));\n  });\n  var oneofs = {};\n  if (!m.fields) m.fields = [];\n  m.fields.forEach(function (f) {\n    if (f.oneof) {\n      if (!oneofs[f.oneof]) oneofs[f.oneof] = [];\n      oneofs[f.oneof].push(onfield(f, []));\n    } else {\n      result.push(onfield(f, []));\n    }\n  });\n  Object.keys(oneofs).forEach(function (n) {\n    oneofs[n].unshift('oneof ' + n + ' {');\n    oneofs[n].push('}');\n    result.push(oneofs[n]);\n  });\n  result.push('}', '');\n  return result;\n};\n\nvar onenum = function (e, result) {\n  result.push('enum ' + e.name + ' {');\n  if (!e.options) e.options = {};\n  var options = onoption(e.options, []);\n\n  if (options.length > 1) {\n    result.push(options.slice(0, -1));\n  }\n\n  Object.keys(e.values).map(function (v) {\n    var val = onenumvalue(e.values[v]);\n    result.push([v + ' = ' + val + ';']);\n  });\n  result.push('}', '');\n  return result;\n};\n\nvar onenumvalue = function (v, result) {\n  var opts = Object.keys(v.options || {}).map(function (key) {\n    return key + ' = ' + v.options[key];\n  }).join(',');\n  if (opts) opts = ' [' + opts + ']';\n  var val = v.value + opts;\n  return val;\n};\n\nvar onoption = function (o, result) {\n  var keys = Object.keys(o);\n  keys.forEach(function (option) {\n    var v = o[option];\n    if (~option.indexOf('.')) option = '(' + option + ')';\n    var type = typeof v;\n\n    if (type === 'object') {\n      v = onoptionMap(v, []);\n      if (v.length) result.push('option ' + option + ' = {', v, '};');\n    } else {\n      if (type === 'string' && option !== 'optimize_for') v = '\"' + v + '\"';\n      result.push('option ' + option + ' = ' + v + ';');\n    }\n  });\n\n  if (keys.length > 0) {\n    result.push('');\n  }\n\n  return result;\n};\n\nvar onoptionMap = function (o, result) {\n  var keys = Object.keys(o);\n  keys.forEach(function (k) {\n    var v = o[k];\n    var type = typeof v;\n\n    if (type === 'object') {\n      if (Array.isArray(v)) {\n        v.forEach(function (v) {\n          v = onoptionMap(v, []);\n          if (v.length) result.push(k + ' {', v, '}');\n        });\n      } else {\n        v = onoptionMap(v, []);\n        if (v.length) result.push(k + ' {', v, '}');\n      }\n    } else {\n      if (type === 'string') v = '\"' + v + '\"';\n      result.push(k + ': ' + v);\n    }\n  });\n  return result;\n};\n\nvar onservices = function (s, result) {\n  result.push('service ' + s.name + ' {');\n  if (!s.options) s.options = {};\n  onoption(s.options, result);\n  if (!s.methods) s.methods = [];\n  s.methods.forEach(function (m) {\n    result.push(onrpc(m, []));\n  });\n  result.push('}', '');\n  return result;\n};\n\nvar onrpc = function (rpc, result) {\n  var def = 'rpc ' + rpc.name + '(';\n  if (rpc.client_streaming) def += 'stream ';\n  def += rpc.input_type + ') returns (';\n  if (rpc.server_streaming) def += 'stream ';\n  def += rpc.output_type + ')';\n  if (!rpc.options) rpc.options = {};\n  var options = onoption(rpc.options, []);\n\n  if (options.length > 1) {\n    result.push(def + ' {', options.slice(0, -1), '}');\n  } else {\n    result.push(def + ';');\n  }\n\n  return result;\n};\n\nvar indent = function (lvl) {\n  return function (line) {\n    if (Array.isArray(line)) return line.map(indent(lvl + '  ')).join('\\n');\n    return lvl + line;\n  };\n};\n\nmodule.exports = function (schema) {\n  var result = [];\n  result.push('syntax = \"proto' + schema.syntax + '\";', '');\n  if (schema.package) result.push('package ' + schema.package + ';', '');\n\n  if (schema.imports) {\n    schema.imports.forEach(function (i) {\n      onimport(i, result);\n    });\n  }\n\n  if (!schema.options) schema.options = {};\n  onoption(schema.options, result);\n  if (!schema.enums) schema.enums = [];\n  schema.enums.forEach(function (e) {\n    onenum(e, result);\n  });\n  if (!schema.messages) schema.messages = [];\n  schema.messages.forEach(function (m) {\n    onmessage(m, result);\n  });\n\n  if (schema.services) {\n    schema.services.forEach(function (s) {\n      onservices(s, result);\n    });\n  }\n\n  return result.map(indent('')).join('\\n');\n};","map":{"version":3,"names":["onimport","i","result","push","onfield","f","prefix","repeated","required","type","map","from","to","oneof","opts","Object","keys","options","key","join","name","tag","onmessage","m","onoption","enums","forEach","e","onenum","messages","oneofs","fields","n","unshift","length","slice","values","v","val","onenumvalue","value","o","option","indexOf","onoptionMap","k","Array","isArray","onservices","s","methods","onrpc","rpc","def","client_streaming","input_type","server_streaming","output_type","indent","lvl","line","module","exports","schema","syntax","package","imports","services"],"sources":["/Users/austinhatch/Documents/GitHub/Heracoin/herachain-demo/node_modules/protocol-buffers-schema/stringify.js"],"sourcesContent":["var onimport = function (i, result) {\n  result.push('import \"' + i + '\";', '')\n  return result\n}\n\nvar onfield = function (f, result) {\n  var prefix = f.repeated ? 'repeated' : f.required ? 'required' : 'optional'\n  if (f.type === 'map') prefix = 'map<' + f.map.from + ',' + f.map.to + '>'\n  if (f.oneof) prefix = ''\n\n  var opts = Object.keys(f.options || {}).map(function (key) {\n    return key + ' = ' + f.options[key]\n  }).join(',')\n\n  if (opts) opts = ' [' + opts + ']'\n\n  result.push((prefix ? prefix + ' ' : '') + (f.map === 'map' ? '' : f.type + ' ') + f.name + ' = ' + f.tag + opts + ';')\n  return result\n}\n\nvar onmessage = function (m, result) {\n  result.push('message ' + m.name + ' {')\n\n  if (!m.options) m.options = {}\n  onoption(m.options, result)\n\n  if (!m.enums) m.enums = []\n  m.enums.forEach(function (e) {\n    result.push(onenum(e, []))\n  })\n\n  if (!m.messages) m.messages = []\n  m.messages.forEach(function (m) {\n    result.push(onmessage(m, []))\n  })\n\n  var oneofs = {}\n\n  if (!m.fields) m.fields = []\n  m.fields.forEach(function (f) {\n    if (f.oneof) {\n      if (!oneofs[f.oneof]) oneofs[f.oneof] = []\n      oneofs[f.oneof].push(onfield(f, []))\n    } else {\n      result.push(onfield(f, []))\n    }\n  })\n\n  Object.keys(oneofs).forEach(function (n) {\n    oneofs[n].unshift('oneof ' + n + ' {')\n    oneofs[n].push('}')\n    result.push(oneofs[n])\n  })\n\n  result.push('}', '')\n  return result\n}\n\nvar onenum = function (e, result) {\n  result.push('enum ' + e.name + ' {')\n  if (!e.options) e.options = {}\n  var options = onoption(e.options, [])\n  if (options.length > 1) {\n    result.push(options.slice(0, -1))\n  }\n  Object.keys(e.values).map(function (v) {\n    var val = onenumvalue(e.values[v])\n    result.push([v + ' = ' + val + ';'])\n  })\n  result.push('}', '')\n  return result\n}\n\nvar onenumvalue = function (v, result) {\n  var opts = Object.keys(v.options || {}).map(function (key) {\n    return key + ' = ' + v.options[key]\n  }).join(',')\n\n  if (opts) opts = ' [' + opts + ']'\n  var val = v.value + opts\n  return val\n}\n\nvar onoption = function (o, result) {\n  var keys = Object.keys(o)\n  keys.forEach(function (option) {\n    var v = o[option]\n    if (~option.indexOf('.')) option = '(' + option + ')'\n\n    var type = typeof v\n\n    if (type === 'object') {\n      v = onoptionMap(v, [])\n      if (v.length) result.push('option ' + option + ' = {', v, '};')\n    } else {\n      if (type === 'string' && option !== 'optimize_for') v = '\"' + v + '\"'\n      result.push('option ' + option + ' = ' + v + ';')\n    }\n  })\n  if (keys.length > 0) {\n    result.push('')\n  }\n\n  return result\n}\n\nvar onoptionMap = function (o, result) {\n  var keys = Object.keys(o)\n  keys.forEach(function (k) {\n    var v = o[k]\n\n    var type = typeof v\n\n    if (type === 'object') {\n      if (Array.isArray(v)) {\n        v.forEach(function (v) {\n          v = onoptionMap(v, [])\n          if (v.length) result.push(k + ' {', v, '}')\n        })\n      } else {\n        v = onoptionMap(v, [])\n        if (v.length) result.push(k + ' {', v, '}')\n      }\n    } else {\n      if (type === 'string') v = '\"' + v + '\"'\n      result.push(k + ': ' + v)\n    }\n  })\n\n  return result\n}\n\nvar onservices = function (s, result) {\n  result.push('service ' + s.name + ' {')\n\n  if (!s.options) s.options = {}\n  onoption(s.options, result)\n  if (!s.methods) s.methods = []\n  s.methods.forEach(function (m) {\n    result.push(onrpc(m, []))\n  })\n\n  result.push('}', '')\n  return result\n}\n\nvar onrpc = function (rpc, result) {\n  var def = 'rpc ' + rpc.name + '('\n  if (rpc.client_streaming) def += 'stream '\n  def += rpc.input_type + ') returns ('\n  if (rpc.server_streaming) def += 'stream '\n  def += rpc.output_type + ')'\n\n  if (!rpc.options) rpc.options = {}\n\n  var options = onoption(rpc.options, [])\n  if (options.length > 1) {\n    result.push(def + ' {', options.slice(0, -1), '}')\n  } else {\n    result.push(def + ';')\n  }\n\n  return result\n}\n\nvar indent = function (lvl) {\n  return function (line) {\n    if (Array.isArray(line)) return line.map(indent(lvl + '  ')).join('\\n')\n    return lvl + line\n  }\n}\n\nmodule.exports = function (schema) {\n  var result = []\n\n  result.push('syntax = \"proto' + schema.syntax + '\";', '')\n\n  if (schema.package) result.push('package ' + schema.package + ';', '')\n\n  if (schema.imports) {\n    schema.imports.forEach(function (i) {\n      onimport(i, result)\n    })\n  }\n\n  if (!schema.options) schema.options = {}\n\n  onoption(schema.options, result)\n\n  if (!schema.enums) schema.enums = []\n  schema.enums.forEach(function (e) {\n    onenum(e, result)\n  })\n\n  if (!schema.messages) schema.messages = []\n  schema.messages.forEach(function (m) {\n    onmessage(m, result)\n  })\n\n  if (schema.services) {\n    schema.services.forEach(function (s) {\n      onservices(s, result)\n    })\n  }\n  return result.map(indent('')).join('\\n')\n}\n"],"mappings":"AAAA,IAAIA,QAAQ,GAAG,UAAUC,CAAV,EAAaC,MAAb,EAAqB;EAClCA,MAAM,CAACC,IAAP,CAAY,aAAaF,CAAb,GAAiB,IAA7B,EAAmC,EAAnC;EACA,OAAOC,MAAP;AACD,CAHD;;AAKA,IAAIE,OAAO,GAAG,UAAUC,CAAV,EAAaH,MAAb,EAAqB;EACjC,IAAII,MAAM,GAAGD,CAAC,CAACE,QAAF,GAAa,UAAb,GAA0BF,CAAC,CAACG,QAAF,GAAa,UAAb,GAA0B,UAAjE;EACA,IAAIH,CAAC,CAACI,IAAF,KAAW,KAAf,EAAsBH,MAAM,GAAG,SAASD,CAAC,CAACK,GAAF,CAAMC,IAAf,GAAsB,GAAtB,GAA4BN,CAAC,CAACK,GAAF,CAAME,EAAlC,GAAuC,GAAhD;EACtB,IAAIP,CAAC,CAACQ,KAAN,EAAaP,MAAM,GAAG,EAAT;EAEb,IAAIQ,IAAI,GAAGC,MAAM,CAACC,IAAP,CAAYX,CAAC,CAACY,OAAF,IAAa,EAAzB,EAA6BP,GAA7B,CAAiC,UAAUQ,GAAV,EAAe;IACzD,OAAOA,GAAG,GAAG,KAAN,GAAcb,CAAC,CAACY,OAAF,CAAUC,GAAV,CAArB;EACD,CAFU,EAERC,IAFQ,CAEH,GAFG,CAAX;EAIA,IAAIL,IAAJ,EAAUA,IAAI,GAAG,OAAOA,IAAP,GAAc,GAArB;EAEVZ,MAAM,CAACC,IAAP,CAAY,CAACG,MAAM,GAAGA,MAAM,GAAG,GAAZ,GAAkB,EAAzB,KAAgCD,CAAC,CAACK,GAAF,KAAU,KAAV,GAAkB,EAAlB,GAAuBL,CAAC,CAACI,IAAF,GAAS,GAAhE,IAAuEJ,CAAC,CAACe,IAAzE,GAAgF,KAAhF,GAAwFf,CAAC,CAACgB,GAA1F,GAAgGP,IAAhG,GAAuG,GAAnH;EACA,OAAOZ,MAAP;AACD,CAbD;;AAeA,IAAIoB,SAAS,GAAG,UAAUC,CAAV,EAAarB,MAAb,EAAqB;EACnCA,MAAM,CAACC,IAAP,CAAY,aAAaoB,CAAC,CAACH,IAAf,GAAsB,IAAlC;EAEA,IAAI,CAACG,CAAC,CAACN,OAAP,EAAgBM,CAAC,CAACN,OAAF,GAAY,EAAZ;EAChBO,QAAQ,CAACD,CAAC,CAACN,OAAH,EAAYf,MAAZ,CAAR;EAEA,IAAI,CAACqB,CAAC,CAACE,KAAP,EAAcF,CAAC,CAACE,KAAF,GAAU,EAAV;EACdF,CAAC,CAACE,KAAF,CAAQC,OAAR,CAAgB,UAAUC,CAAV,EAAa;IAC3BzB,MAAM,CAACC,IAAP,CAAYyB,MAAM,CAACD,CAAD,EAAI,EAAJ,CAAlB;EACD,CAFD;EAIA,IAAI,CAACJ,CAAC,CAACM,QAAP,EAAiBN,CAAC,CAACM,QAAF,GAAa,EAAb;EACjBN,CAAC,CAACM,QAAF,CAAWH,OAAX,CAAmB,UAAUH,CAAV,EAAa;IAC9BrB,MAAM,CAACC,IAAP,CAAYmB,SAAS,CAACC,CAAD,EAAI,EAAJ,CAArB;EACD,CAFD;EAIA,IAAIO,MAAM,GAAG,EAAb;EAEA,IAAI,CAACP,CAAC,CAACQ,MAAP,EAAeR,CAAC,CAACQ,MAAF,GAAW,EAAX;EACfR,CAAC,CAACQ,MAAF,CAASL,OAAT,CAAiB,UAAUrB,CAAV,EAAa;IAC5B,IAAIA,CAAC,CAACQ,KAAN,EAAa;MACX,IAAI,CAACiB,MAAM,CAACzB,CAAC,CAACQ,KAAH,CAAX,EAAsBiB,MAAM,CAACzB,CAAC,CAACQ,KAAH,CAAN,GAAkB,EAAlB;MACtBiB,MAAM,CAACzB,CAAC,CAACQ,KAAH,CAAN,CAAgBV,IAAhB,CAAqBC,OAAO,CAACC,CAAD,EAAI,EAAJ,CAA5B;IACD,CAHD,MAGO;MACLH,MAAM,CAACC,IAAP,CAAYC,OAAO,CAACC,CAAD,EAAI,EAAJ,CAAnB;IACD;EACF,CAPD;EASAU,MAAM,CAACC,IAAP,CAAYc,MAAZ,EAAoBJ,OAApB,CAA4B,UAAUM,CAAV,EAAa;IACvCF,MAAM,CAACE,CAAD,CAAN,CAAUC,OAAV,CAAkB,WAAWD,CAAX,GAAe,IAAjC;IACAF,MAAM,CAACE,CAAD,CAAN,CAAU7B,IAAV,CAAe,GAAf;IACAD,MAAM,CAACC,IAAP,CAAY2B,MAAM,CAACE,CAAD,CAAlB;EACD,CAJD;EAMA9B,MAAM,CAACC,IAAP,CAAY,GAAZ,EAAiB,EAAjB;EACA,OAAOD,MAAP;AACD,CApCD;;AAsCA,IAAI0B,MAAM,GAAG,UAAUD,CAAV,EAAazB,MAAb,EAAqB;EAChCA,MAAM,CAACC,IAAP,CAAY,UAAUwB,CAAC,CAACP,IAAZ,GAAmB,IAA/B;EACA,IAAI,CAACO,CAAC,CAACV,OAAP,EAAgBU,CAAC,CAACV,OAAF,GAAY,EAAZ;EAChB,IAAIA,OAAO,GAAGO,QAAQ,CAACG,CAAC,CAACV,OAAH,EAAY,EAAZ,CAAtB;;EACA,IAAIA,OAAO,CAACiB,MAAR,GAAiB,CAArB,EAAwB;IACtBhC,MAAM,CAACC,IAAP,CAAYc,OAAO,CAACkB,KAAR,CAAc,CAAd,EAAiB,CAAC,CAAlB,CAAZ;EACD;;EACDpB,MAAM,CAACC,IAAP,CAAYW,CAAC,CAACS,MAAd,EAAsB1B,GAAtB,CAA0B,UAAU2B,CAAV,EAAa;IACrC,IAAIC,GAAG,GAAGC,WAAW,CAACZ,CAAC,CAACS,MAAF,CAASC,CAAT,CAAD,CAArB;IACAnC,MAAM,CAACC,IAAP,CAAY,CAACkC,CAAC,GAAG,KAAJ,GAAYC,GAAZ,GAAkB,GAAnB,CAAZ;EACD,CAHD;EAIApC,MAAM,CAACC,IAAP,CAAY,GAAZ,EAAiB,EAAjB;EACA,OAAOD,MAAP;AACD,CAbD;;AAeA,IAAIqC,WAAW,GAAG,UAAUF,CAAV,EAAanC,MAAb,EAAqB;EACrC,IAAIY,IAAI,GAAGC,MAAM,CAACC,IAAP,CAAYqB,CAAC,CAACpB,OAAF,IAAa,EAAzB,EAA6BP,GAA7B,CAAiC,UAAUQ,GAAV,EAAe;IACzD,OAAOA,GAAG,GAAG,KAAN,GAAcmB,CAAC,CAACpB,OAAF,CAAUC,GAAV,CAArB;EACD,CAFU,EAERC,IAFQ,CAEH,GAFG,CAAX;EAIA,IAAIL,IAAJ,EAAUA,IAAI,GAAG,OAAOA,IAAP,GAAc,GAArB;EACV,IAAIwB,GAAG,GAAGD,CAAC,CAACG,KAAF,GAAU1B,IAApB;EACA,OAAOwB,GAAP;AACD,CARD;;AAUA,IAAId,QAAQ,GAAG,UAAUiB,CAAV,EAAavC,MAAb,EAAqB;EAClC,IAAIc,IAAI,GAAGD,MAAM,CAACC,IAAP,CAAYyB,CAAZ,CAAX;EACAzB,IAAI,CAACU,OAAL,CAAa,UAAUgB,MAAV,EAAkB;IAC7B,IAAIL,CAAC,GAAGI,CAAC,CAACC,MAAD,CAAT;IACA,IAAI,CAACA,MAAM,CAACC,OAAP,CAAe,GAAf,CAAL,EAA0BD,MAAM,GAAG,MAAMA,MAAN,GAAe,GAAxB;IAE1B,IAAIjC,IAAI,GAAG,OAAO4B,CAAlB;;IAEA,IAAI5B,IAAI,KAAK,QAAb,EAAuB;MACrB4B,CAAC,GAAGO,WAAW,CAACP,CAAD,EAAI,EAAJ,CAAf;MACA,IAAIA,CAAC,CAACH,MAAN,EAAchC,MAAM,CAACC,IAAP,CAAY,YAAYuC,MAAZ,GAAqB,MAAjC,EAAyCL,CAAzC,EAA4C,IAA5C;IACf,CAHD,MAGO;MACL,IAAI5B,IAAI,KAAK,QAAT,IAAqBiC,MAAM,KAAK,cAApC,EAAoDL,CAAC,GAAG,MAAMA,CAAN,GAAU,GAAd;MACpDnC,MAAM,CAACC,IAAP,CAAY,YAAYuC,MAAZ,GAAqB,KAArB,GAA6BL,CAA7B,GAAiC,GAA7C;IACD;EACF,CAbD;;EAcA,IAAIrB,IAAI,CAACkB,MAAL,GAAc,CAAlB,EAAqB;IACnBhC,MAAM,CAACC,IAAP,CAAY,EAAZ;EACD;;EAED,OAAOD,MAAP;AACD,CArBD;;AAuBA,IAAI0C,WAAW,GAAG,UAAUH,CAAV,EAAavC,MAAb,EAAqB;EACrC,IAAIc,IAAI,GAAGD,MAAM,CAACC,IAAP,CAAYyB,CAAZ,CAAX;EACAzB,IAAI,CAACU,OAAL,CAAa,UAAUmB,CAAV,EAAa;IACxB,IAAIR,CAAC,GAAGI,CAAC,CAACI,CAAD,CAAT;IAEA,IAAIpC,IAAI,GAAG,OAAO4B,CAAlB;;IAEA,IAAI5B,IAAI,KAAK,QAAb,EAAuB;MACrB,IAAIqC,KAAK,CAACC,OAAN,CAAcV,CAAd,CAAJ,EAAsB;QACpBA,CAAC,CAACX,OAAF,CAAU,UAAUW,CAAV,EAAa;UACrBA,CAAC,GAAGO,WAAW,CAACP,CAAD,EAAI,EAAJ,CAAf;UACA,IAAIA,CAAC,CAACH,MAAN,EAAchC,MAAM,CAACC,IAAP,CAAY0C,CAAC,GAAG,IAAhB,EAAsBR,CAAtB,EAAyB,GAAzB;QACf,CAHD;MAID,CALD,MAKO;QACLA,CAAC,GAAGO,WAAW,CAACP,CAAD,EAAI,EAAJ,CAAf;QACA,IAAIA,CAAC,CAACH,MAAN,EAAchC,MAAM,CAACC,IAAP,CAAY0C,CAAC,GAAG,IAAhB,EAAsBR,CAAtB,EAAyB,GAAzB;MACf;IACF,CAVD,MAUO;MACL,IAAI5B,IAAI,KAAK,QAAb,EAAuB4B,CAAC,GAAG,MAAMA,CAAN,GAAU,GAAd;MACvBnC,MAAM,CAACC,IAAP,CAAY0C,CAAC,GAAG,IAAJ,GAAWR,CAAvB;IACD;EACF,CAnBD;EAqBA,OAAOnC,MAAP;AACD,CAxBD;;AA0BA,IAAI8C,UAAU,GAAG,UAAUC,CAAV,EAAa/C,MAAb,EAAqB;EACpCA,MAAM,CAACC,IAAP,CAAY,aAAa8C,CAAC,CAAC7B,IAAf,GAAsB,IAAlC;EAEA,IAAI,CAAC6B,CAAC,CAAChC,OAAP,EAAgBgC,CAAC,CAAChC,OAAF,GAAY,EAAZ;EAChBO,QAAQ,CAACyB,CAAC,CAAChC,OAAH,EAAYf,MAAZ,CAAR;EACA,IAAI,CAAC+C,CAAC,CAACC,OAAP,EAAgBD,CAAC,CAACC,OAAF,GAAY,EAAZ;EAChBD,CAAC,CAACC,OAAF,CAAUxB,OAAV,CAAkB,UAAUH,CAAV,EAAa;IAC7BrB,MAAM,CAACC,IAAP,CAAYgD,KAAK,CAAC5B,CAAD,EAAI,EAAJ,CAAjB;EACD,CAFD;EAIArB,MAAM,CAACC,IAAP,CAAY,GAAZ,EAAiB,EAAjB;EACA,OAAOD,MAAP;AACD,CAZD;;AAcA,IAAIiD,KAAK,GAAG,UAAUC,GAAV,EAAelD,MAAf,EAAuB;EACjC,IAAImD,GAAG,GAAG,SAASD,GAAG,CAAChC,IAAb,GAAoB,GAA9B;EACA,IAAIgC,GAAG,CAACE,gBAAR,EAA0BD,GAAG,IAAI,SAAP;EAC1BA,GAAG,IAAID,GAAG,CAACG,UAAJ,GAAiB,aAAxB;EACA,IAAIH,GAAG,CAACI,gBAAR,EAA0BH,GAAG,IAAI,SAAP;EAC1BA,GAAG,IAAID,GAAG,CAACK,WAAJ,GAAkB,GAAzB;EAEA,IAAI,CAACL,GAAG,CAACnC,OAAT,EAAkBmC,GAAG,CAACnC,OAAJ,GAAc,EAAd;EAElB,IAAIA,OAAO,GAAGO,QAAQ,CAAC4B,GAAG,CAACnC,OAAL,EAAc,EAAd,CAAtB;;EACA,IAAIA,OAAO,CAACiB,MAAR,GAAiB,CAArB,EAAwB;IACtBhC,MAAM,CAACC,IAAP,CAAYkD,GAAG,GAAG,IAAlB,EAAwBpC,OAAO,CAACkB,KAAR,CAAc,CAAd,EAAiB,CAAC,CAAlB,CAAxB,EAA8C,GAA9C;EACD,CAFD,MAEO;IACLjC,MAAM,CAACC,IAAP,CAAYkD,GAAG,GAAG,GAAlB;EACD;;EAED,OAAOnD,MAAP;AACD,CAjBD;;AAmBA,IAAIwD,MAAM,GAAG,UAAUC,GAAV,EAAe;EAC1B,OAAO,UAAUC,IAAV,EAAgB;IACrB,IAAId,KAAK,CAACC,OAAN,CAAca,IAAd,CAAJ,EAAyB,OAAOA,IAAI,CAAClD,GAAL,CAASgD,MAAM,CAACC,GAAG,GAAG,IAAP,CAAf,EAA6BxC,IAA7B,CAAkC,IAAlC,CAAP;IACzB,OAAOwC,GAAG,GAAGC,IAAb;EACD,CAHD;AAID,CALD;;AAOAC,MAAM,CAACC,OAAP,GAAiB,UAAUC,MAAV,EAAkB;EACjC,IAAI7D,MAAM,GAAG,EAAb;EAEAA,MAAM,CAACC,IAAP,CAAY,oBAAoB4D,MAAM,CAACC,MAA3B,GAAoC,IAAhD,EAAsD,EAAtD;EAEA,IAAID,MAAM,CAACE,OAAX,EAAoB/D,MAAM,CAACC,IAAP,CAAY,aAAa4D,MAAM,CAACE,OAApB,GAA8B,GAA1C,EAA+C,EAA/C;;EAEpB,IAAIF,MAAM,CAACG,OAAX,EAAoB;IAClBH,MAAM,CAACG,OAAP,CAAexC,OAAf,CAAuB,UAAUzB,CAAV,EAAa;MAClCD,QAAQ,CAACC,CAAD,EAAIC,MAAJ,CAAR;IACD,CAFD;EAGD;;EAED,IAAI,CAAC6D,MAAM,CAAC9C,OAAZ,EAAqB8C,MAAM,CAAC9C,OAAP,GAAiB,EAAjB;EAErBO,QAAQ,CAACuC,MAAM,CAAC9C,OAAR,EAAiBf,MAAjB,CAAR;EAEA,IAAI,CAAC6D,MAAM,CAACtC,KAAZ,EAAmBsC,MAAM,CAACtC,KAAP,GAAe,EAAf;EACnBsC,MAAM,CAACtC,KAAP,CAAaC,OAAb,CAAqB,UAAUC,CAAV,EAAa;IAChCC,MAAM,CAACD,CAAD,EAAIzB,MAAJ,CAAN;EACD,CAFD;EAIA,IAAI,CAAC6D,MAAM,CAAClC,QAAZ,EAAsBkC,MAAM,CAAClC,QAAP,GAAkB,EAAlB;EACtBkC,MAAM,CAAClC,QAAP,CAAgBH,OAAhB,CAAwB,UAAUH,CAAV,EAAa;IACnCD,SAAS,CAACC,CAAD,EAAIrB,MAAJ,CAAT;EACD,CAFD;;EAIA,IAAI6D,MAAM,CAACI,QAAX,EAAqB;IACnBJ,MAAM,CAACI,QAAP,CAAgBzC,OAAhB,CAAwB,UAAUuB,CAAV,EAAa;MACnCD,UAAU,CAACC,CAAD,EAAI/C,MAAJ,CAAV;IACD,CAFD;EAGD;;EACD,OAAOA,MAAM,CAACQ,GAAP,CAAWgD,MAAM,CAAC,EAAD,CAAjB,EAAuBvC,IAAvB,CAA4B,IAA5B,CAAP;AACD,CAjCD"},"metadata":{},"sourceType":"script"}
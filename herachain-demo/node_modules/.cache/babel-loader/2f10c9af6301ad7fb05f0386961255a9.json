{"ast":null,"code":"/*\n    Copyright 2018 The caver-js Authors\n    This file is part of the caver-js library.\n\n    The caver-js library is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Lesser General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    The caver-js library is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n    GNU Lesser General Public License for more details.\n\n    You should have received a copy of the GNU Lesser General Public License\n    along with the caver-js. If not, see <http://www.gnu.org/licenses/>.\n*/\n\n/**\n * Should be called to check the parameters of transaction\n *\n * @method validateParams\n * @param {Object}\n * @return {Error}\n */\nconst utils = require('../../caver-utils');\n\nconst {\n  TX_TYPE_STRING,\n  isEthereumTxType\n} = require('../../caver-transaction/src/transactionHelper/transactionHelper');\n\nfunction validateParams(tx) {\n  let error; // validate for fee payer transaction format\n\n  if (tx.senderRawTransaction) {\n    if (!tx.feePayer || tx.feePayer === '0x' || tx.feePayer === '0x0000000000000000000000000000000000000000') {\n      error = new Error(`Invalid fee payer: ${tx.feePayer}`);\n    } else if (!utils.isAddress(tx.feePayer)) {\n      error = new Error(`Invalid address of fee payer: ${tx.feePayer}`);\n    }\n\n    return error;\n  }\n\n  const isValidateType = validateTxType(tx.type);\n\n  if (!isValidateType) {\n    return new Error(`The transaction type [${tx.type}] is not supported`);\n  }\n\n  error = validateTxObjectWithType(tx);\n\n  if (error !== undefined) {\n    return error;\n  }\n\n  if (!isEthereumTxType(tx.type) && !tx.from) {\n    error = new Error('\"from\" is missing');\n  } else if (tx.from) {\n    if (tx.from === '0x' || tx.from === '0x0000000000000000000000000000000000000000') {\n      if (!isEthereumTxType(tx.type)) {\n        error = new Error(`Invalid address of from: ${tx.from}`);\n      }\n    } else if (!utils.isAddress(tx.from)) {\n      error = new Error(`Invalid address of from: ${tx.from}`);\n    }\n  }\n\n  if (tx.gas === undefined && tx.gasLimit === undefined) {\n    error = new Error('\"gas\" is missing');\n  } else if (tx.nonce < 0 || tx.gas < 0 || tx.gasLimit < 0 || tx.gasPrice !== undefined && tx.gasPrice < 0 || tx.chainId < 0) {\n    error = new Error('gas(or gasLimit), gasPrice, nonce or chainId is lower than 0');\n  } // If feePayerSignatures is set in transaction object, feePayer also should be defined together.\n\n\n  if (tx.feePayerSignatures && !utils.isEmptySig(tx.feePayerSignatures)) {\n    if (!tx.feePayer || tx.feePayer === '0x' || tx.feePayer === '0x0000000000000000000000000000000000000000') {\n      error = new Error('\"feePayer\" is missing: feePayer must be defined with feePayerSignatures.');\n    } else if (!utils.isAddress(tx.feePayer)) {\n      error = new Error(`Invalid address of fee payer: ${tx.feePayer}`);\n    }\n  }\n\n  return error;\n}\n/**\n * Should be called to check the type of transaction\n * Transaction type has to be checked if type is set.\n *\n * @method validateTypes\n * @param {string}\n * @return {bool}\n */\n\n\nfunction validateTxType(txType) {\n  if (!txType) {\n    return true;\n  }\n\n  switch (txType) {\n    case 'VALUE_TRANSFER':\n    case 'FEE_DELEGATED_VALUE_TRANSFER':\n    case 'FEE_DELEGATED_VALUE_TRANSFER_WITH_RATIO':\n    case 'VALUE_TRANSFER_MEMO':\n    case 'FEE_DELEGATED_VALUE_TRANSFER_MEMO':\n    case 'FEE_DELEGATED_VALUE_TRANSFER_MEMO_WITH_RATIO':\n    case 'ACCOUNT_UPDATE':\n    case 'FEE_DELEGATED_ACCOUNT_UPDATE':\n    case 'FEE_DELEGATED_ACCOUNT_UPDATE_WITH_RATIO':\n    case 'SMART_CONTRACT_DEPLOY':\n    case 'FEE_DELEGATED_SMART_CONTRACT_DEPLOY':\n    case 'FEE_DELEGATED_SMART_CONTRACT_DEPLOY_WITH_RATIO':\n    case 'SMART_CONTRACT_EXECUTION':\n    case 'FEE_DELEGATED_SMART_CONTRACT_EXECUTION':\n    case 'FEE_DELEGATED_SMART_CONTRACT_EXECUTION_WITH_RATIO':\n    case 'CANCEL':\n    case 'FEE_DELEGATED_CANCEL':\n    case 'FEE_DELEGATED_CANCEL_WITH_RATIO':\n    case 'CHAIN_DATA_ANCHORING':\n    case 'LEGACY':\n    case TX_TYPE_STRING.TxTypeValueTransfer:\n    case TX_TYPE_STRING.TxTypeFeeDelegatedValueTransfer:\n    case TX_TYPE_STRING.TxTypeFeeDelegatedValueTransferWithRatio:\n    case TX_TYPE_STRING.TxTypeValueTransferMemo:\n    case TX_TYPE_STRING.TxTypeFeeDelegatedValueTransferMemo:\n    case TX_TYPE_STRING.TxTypeFeeDelegatedValueTransferMemoWithRatio:\n    case TX_TYPE_STRING.TxTypeAccountUpdate:\n    case TX_TYPE_STRING.TxTypeFeeDelegatedAccountUpdate:\n    case TX_TYPE_STRING.TxTypeFeeDelegatedAccountUpdateWithRatio:\n    case TX_TYPE_STRING.TxTypeSmartContractDeploy:\n    case TX_TYPE_STRING.TxTypeFeeDelegatedSmartContractDeploy:\n    case TX_TYPE_STRING.TxTypeFeeDelegatedSmartContractDeployWithRatio:\n    case TX_TYPE_STRING.TxTypeSmartContractExecution:\n    case TX_TYPE_STRING.TxTypeFeeDelegatedSmartContractExecution:\n    case TX_TYPE_STRING.TxTypeFeeDelegatedSmartContractExecutionWithRatio:\n    case TX_TYPE_STRING.TxTypeCancel:\n    case TX_TYPE_STRING.TxTypeFeeDelegatedCancel:\n    case TX_TYPE_STRING.TxTypeFeeDelegatedCancelWithRatio:\n    case TX_TYPE_STRING.TxTypeChainDataAnchoring:\n    case TX_TYPE_STRING.TxTypeFeeDelegatedChainDataAnchoring:\n    case TX_TYPE_STRING.TxTypeFeeDelegatedChainDataAnchoringWithRatio:\n    case TX_TYPE_STRING.TxTypeLegacyTransaction:\n    case TX_TYPE_STRING.TxTypeEthereumAccessList:\n    case TX_TYPE_STRING.TxTypeEthereumDynamicFee:\n      return true;\n  }\n\n  return false;\n}\n/**\n * Should be called to check codeFormat\n *\n * @method validateTypes\n * @param {string}\n * @return {bool}\n */\n\n\nfunction validateCodeFormat(cf) {\n  if (cf === undefined) {\n    return true;\n  }\n\n  switch (cf) {\n    case 0:\n    case 'EVM':\n    case '0x':\n    case '0x0':\n      return true;\n  }\n\n  return false;\n}\n\nfunction validateTxObjectWithType(tx) {\n  if (tx.type === undefined) {\n    return validateLegacy(tx);\n  }\n\n  switch (tx.type) {\n    case 'LEGACY':\n    case TX_TYPE_STRING.TxTypeLegacyTransaction:\n      return validateLegacy(tx);\n\n    case 'VALUE_TRANSFER':\n    case TX_TYPE_STRING.TxTypeValueTransfer:\n      return validateValueTransfer(tx);\n\n    case 'FEE_DELEGATED_VALUE_TRANSFER':\n    case TX_TYPE_STRING.TxTypeFeeDelegatedValueTransfer:\n      return validateFeeDelegatedValueTransfer(tx);\n\n    case 'FEE_DELEGATED_VALUE_TRANSFER_WITH_RATIO':\n    case TX_TYPE_STRING.TxTypeFeeDelegatedValueTransferWithRatio:\n      return validateFeeDelegatedValueTransferWithRatio(tx);\n\n    case 'VALUE_TRANSFER_MEMO':\n    case TX_TYPE_STRING.TxTypeValueTransferMemo:\n      return validateValueTransferMemo(tx);\n\n    case 'FEE_DELEGATED_VALUE_TRANSFER_MEMO':\n    case TX_TYPE_STRING.TxTypeFeeDelegatedValueTransferMemo:\n      return validateFeeDelegatedValueTransferMemo(tx);\n\n    case 'FEE_DELEGATED_VALUE_TRANSFER_MEMO_WITH_RATIO':\n    case TX_TYPE_STRING.TxTypeFeeDelegatedValueTransferMemoWithRatio:\n      return validateFeeDelegatedValueTransferMemoWithRatio(tx);\n\n    case 'ACCOUNT_UPDATE':\n    case TX_TYPE_STRING.TxTypeAccountUpdate:\n      return validateAccountUpdate(tx);\n\n    case 'FEE_DELEGATED_ACCOUNT_UPDATE':\n    case TX_TYPE_STRING.TxTypeFeeDelegatedAccountUpdate:\n      return validateFeeDelegatedAccountUpdate(tx);\n\n    case 'FEE_DELEGATED_ACCOUNT_UPDATE_WITH_RATIO':\n    case TX_TYPE_STRING.TxTypeFeeDelegatedAccountUpdateWithRatio:\n      return validateFeeDelegatedAccountUpdateWithRatio(tx);\n\n    case 'SMART_CONTRACT_DEPLOY':\n    case TX_TYPE_STRING.TxTypeSmartContractDeploy:\n      return validateSmartContractDeploy(tx);\n\n    case 'FEE_DELEGATED_SMART_CONTRACT_DEPLOY':\n    case TX_TYPE_STRING.TxTypeFeeDelegatedSmartContractDeploy:\n      return validateFeeDelegatedSmartContractDeploy(tx);\n\n    case 'FEE_DELEGATED_SMART_CONTRACT_DEPLOY_WITH_RATIO':\n    case TX_TYPE_STRING.TxTypeFeeDelegatedSmartContractDeployWithRatio:\n      return validateFeeDelegatedSmartContractDeployWithRatio(tx);\n\n    case 'SMART_CONTRACT_EXECUTION':\n    case TX_TYPE_STRING.TxTypeSmartContractExecution:\n      return validateSmartContractExecution(tx);\n\n    case 'FEE_DELEGATED_SMART_CONTRACT_EXECUTION':\n    case TX_TYPE_STRING.TxTypeFeeDelegatedSmartContractExecution:\n      return validateFeeDelegatedSmartContractExecution(tx);\n\n    case 'FEE_DELEGATED_SMART_CONTRACT_EXECUTION_WITH_RATIO':\n    case TX_TYPE_STRING.TxTypeFeeDelegatedSmartContractExecutionWithRatio:\n      return validateFeeDelegatedSmartContractExecutionWithRatio(tx);\n\n    case 'CANCEL':\n    case TX_TYPE_STRING.TxTypeCancel:\n      return validateCancel(tx);\n\n    case 'FEE_DELEGATED_CANCEL':\n    case TX_TYPE_STRING.TxTypeFeeDelegatedCancel:\n      return validateFeeDelegatedCancel(tx);\n\n    case 'FEE_DELEGATED_CANCEL_WITH_RATIO':\n    case TX_TYPE_STRING.TxTypeFeeDelegatedCancelWithRatio:\n      return validateFeeDelegatedCancelWithRatio(tx);\n\n    case 'CHAIN_DATA_ANCHORING':\n    case TX_TYPE_STRING.TxTypeChainDataAnchoring:\n      return validateChainDataAnchoring(tx);\n\n    case TX_TYPE_STRING.TxTypeFeeDelegatedChainDataAnchoring:\n      return validateFeeDelegatedChainDataAnchoring(tx);\n\n    case TX_TYPE_STRING.TxTypeFeeDelegatedChainDataAnchoringWithRatio:\n      return validateFeeDelegatedChainDataAnchoringWithRatio(tx);\n\n    case TX_TYPE_STRING.TxTypeEthereumAccessList:\n      return validateEthereumAccessList(tx);\n\n    case TX_TYPE_STRING.TxTypeEthereumDynamicFee:\n      return validateEthereumDynamicFee(tx);\n  }\n\n  return undefined;\n}\n\nfunction validateLegacy(transaction) {\n  if (transaction.to === undefined && transaction.data === undefined && transaction.input === undefined) {\n    return new Error('contract creation without any data provided');\n  }\n\n  if (transaction.to && transaction.to !== '0x' && transaction.to !== '0x0000000000000000000000000000000000000000' && !utils.isAddress(transaction.to)) {\n    return new Error(`Invalid address of to: ${transaction.to}`);\n  }\n\n  if (transaction.codeFormat !== undefined) {\n    return new Error(`\"codeFormat\" cannot be used with ${transaction.type} transaction`);\n  }\n\n  if (transaction.humanReadable !== undefined) {\n    return new Error(`\"humanReadable\" cannot be used with ${transaction.type} transaction`);\n  }\n\n  if (transaction.accessList !== undefined) {\n    return new Error(`\"accessList\" cannot be used with ${transaction.type} transaction`);\n  }\n\n  if (transaction.maxPriorityFeePerGas !== undefined) {\n    return new Error(`\"maxPriorityFeePerGas\" cannot be used with ${transaction.type} transaction`);\n  }\n\n  if (transaction.maxFeePerGas !== undefined) {\n    return new Error(`\"maxFeePerGas\" cannot be used with ${transaction.type} transaction`);\n  }\n\n  const error = validateNonFeeDelegated(transaction);\n  if (error) return error;\n  return validateNotAccountTransaction(transaction);\n}\n\nfunction validateNonFeeDelegated(transaction) {\n  const type = transaction.type ? transaction.type : 'LEGACY';\n\n  if (transaction.feePayer !== undefined) {\n    return new Error(`\"feePayer\" cannot be used with ${type} transaction`);\n  }\n\n  if (transaction.feeRatio !== undefined) {\n    return new Error(`\"feeRatio\" cannot be used with ${type} transaction`);\n  }\n\n  if (transaction.feePayerSignatures !== undefined) {\n    return new Error(`\"feePayerSignatures\" cannot be used with ${type} transaction`);\n  }\n}\n\nfunction validateFeeDelegated(transaction) {\n  if (transaction.type.includes('WITH_RATIO') || transaction.type.includes('WithRatio')) {\n    if (transaction.feeRatio === undefined) {\n      return new Error('\"feeRatio\" is missing');\n    }\n  } else if (transaction.feeRatio !== undefined) {\n    return new Error(`\"feeRatio\" cannot be used with ${transaction.type} transaction`);\n  }\n}\n\nfunction validateNotAccountTransaction(transaction) {\n  const type = transaction.type ? transaction.type : 'LEGACY';\n\n  if (transaction.account !== undefined) {\n    return new Error(`\"account\" cannot be used with ${type} transaction`);\n  }\n\n  if (transaction.key !== undefined) {\n    return new Error(`\"key\" cannot be used with ${type} transaction`);\n  }\n\n  if (transaction.legacyKey !== undefined) {\n    return new Error(`\"legacyKey\" cannot be used with ${type} transaction`);\n  }\n\n  if (transaction.publicKey !== undefined) {\n    return new Error(`\"publicKey\" cannot be used with ${type} transaction`);\n  }\n\n  if (transaction.multisig !== undefined) {\n    return new Error(`\"multisig\" cannot be used with ${type} transaction`);\n  }\n\n  if (transaction.roleTransactionKey !== undefined) {\n    return new Error(`\"roleTransactionKey\" cannot be used with ${type} transaction`);\n  }\n\n  if (transaction.roleAccountUpdateKey !== undefined) {\n    return new Error(`\"roleAccountUpdateKey\" cannot be used with ${type} transaction`);\n  }\n\n  if (transaction.roleFeePayerKey !== undefined) {\n    return new Error(`\"roleFeePayerKey\" cannot be used with ${type} transaction`);\n  }\n\n  if (transaction.failKey !== undefined) {\n    return new Error(`\"failKey\" cannot be used with ${type} transaction`);\n  }\n}\n\nfunction checkValueTransferEssential(transaction) {\n  if (transaction.to === undefined) {\n    return new Error('\"to\" is missing');\n  }\n\n  if (!utils.isAddress(transaction.to)) {\n    return new Error(`Invalid address of to: ${transaction.to}`);\n  }\n\n  if (transaction.value === undefined) {\n    return new Error('\"value\" is missing');\n  }\n\n  if (transaction.codeFormat !== undefined) {\n    return new Error(`\"codeFormat\" cannot be used with ${transaction.type} transaction`);\n  }\n\n  if (transaction.data !== undefined) {\n    return new Error(`\"data\" cannot be used with ${transaction.type} transaction`);\n  }\n\n  if (transaction.input !== undefined) {\n    return new Error(`\"input\" cannot be used with ${transaction.type} transaction`);\n  }\n\n  if (transaction.humanReadable !== undefined) {\n    return new Error(`\"humanReadable\" cannot be used with ${transaction.type} transaction`);\n  }\n\n  if (transaction.accessList !== undefined) {\n    return new Error(`\"accessList\" cannot be used with ${transaction.type} transaction`);\n  }\n\n  if (transaction.maxPriorityFeePerGas !== undefined) {\n    return new Error(`\"maxPriorityFeePerGas\" cannot be used with ${transaction.type} transaction`);\n  }\n\n  if (transaction.maxFeePerGas !== undefined) {\n    return new Error(`\"maxFeePerGas\" cannot be used with ${transaction.type} transaction`);\n  }\n}\n\nfunction validateValueTransfer(transaction) {\n  let error = checkValueTransferEssential(transaction);\n  if (error) return error;\n  error = validateNonFeeDelegated(transaction);\n  if (error) return error;\n  return validateNotAccountTransaction(transaction);\n}\n\nfunction validateFeeDelegatedValueTransfer(transaction) {\n  let error = checkValueTransferEssential(transaction);\n  if (error) return error;\n  error = validateFeeDelegated(transaction);\n  if (error) return error;\n  return validateNotAccountTransaction(transaction);\n}\n\nfunction validateFeeDelegatedValueTransferWithRatio(transaction) {\n  return validateFeeDelegatedValueTransfer(transaction);\n}\n\nfunction checkValueTransferMemoEssential(transaction) {\n  if (transaction.to === undefined) {\n    return new Error('\"to\" is missing');\n  }\n\n  if (!utils.isAddress(transaction.to)) {\n    return new Error(`Invalid address of to: ${transaction.to}`);\n  }\n\n  if (transaction.value === undefined) {\n    return new Error('\"value\" is missing');\n  }\n\n  if (transaction.input !== undefined && transaction.data !== undefined) {\n    return new Error(`\"data\" and \"input\" cannot be used as properties of transactions at the same time.`);\n  }\n\n  if (transaction.input === undefined && transaction.data === undefined) {\n    if (transaction.type.includes('TxType')) return new Error('\"input\" is missing');\n    return new Error('\"data\" is missing');\n  }\n\n  if (transaction.codeFormat !== undefined) {\n    return new Error(`\"codeFormat\" cannot be used with ${transaction.type} transaction`);\n  }\n\n  if (transaction.humanReadable !== undefined) {\n    return new Error(`\"humanReadable\" cannot be used with ${transaction.type} transaction`);\n  }\n\n  if (transaction.accessList !== undefined) {\n    return new Error(`\"accessList\" cannot be used with ${transaction.type} transaction`);\n  }\n\n  if (transaction.maxPriorityFeePerGas !== undefined) {\n    return new Error(`\"maxPriorityFeePerGas\" cannot be used with ${transaction.type} transaction`);\n  }\n\n  if (transaction.maxFeePerGas !== undefined) {\n    return new Error(`\"maxFeePerGas\" cannot be used with ${transaction.type} transaction`);\n  }\n}\n\nfunction validateValueTransferMemo(transaction) {\n  let error = checkValueTransferMemoEssential(transaction);\n  if (error) return error;\n  error = validateNonFeeDelegated(transaction);\n  if (error) return error;\n  return validateNotAccountTransaction(transaction);\n}\n\nfunction validateFeeDelegatedValueTransferMemo(transaction) {\n  let error = checkValueTransferMemoEssential(transaction);\n  if (error) return error;\n  error = validateFeeDelegated(transaction);\n  if (error) return error;\n  return validateNotAccountTransaction(transaction);\n}\n\nfunction validateFeeDelegatedValueTransferMemoWithRatio(transaction) {\n  return validateFeeDelegatedValueTransferMemo(transaction);\n}\n\nfunction validateAccountTransaction(transaction) {\n  if (transaction.data !== undefined) {\n    return new Error(`\"data\" cannot be used with ${transaction.type} transaction`);\n  }\n\n  if (transaction.input !== undefined) {\n    return new Error(`\"input\" cannot be used with ${transaction.type} transaction`);\n  }\n\n  if (transaction.codeFormat !== undefined) {\n    return new Error(`\"codeFormat\" cannot be used with ${transaction.type} transaction`);\n  }\n\n  if (transaction.humanReadable !== undefined) {\n    return new Error(`\"humanReadable\" cannot be used with ${transaction.type} transaction`);\n  }\n\n  if (transaction.accessList !== undefined) {\n    return new Error(`\"accessList\" cannot be used with ${transaction.type} transaction`);\n  }\n\n  if (transaction.maxPriorityFeePerGas !== undefined) {\n    return new Error(`\"maxPriorityFeePerGas\" cannot be used with ${transaction.type} transaction`);\n  }\n\n  if (transaction.maxFeePerGas !== undefined) {\n    return new Error(`\"maxFeePerGas\" cannot be used with ${transaction.type} transaction`);\n  } // TxTypeAccountUpdate, TxTypeFeeDelegatedAccountUpdate and TxTypeFeeDelegatedAccountUpdateWithRatio transaction use 'account' only\n\n\n  if (transaction.type.includes('TxType')) {\n    if (!transaction.account) return new Error(`Missing account information with ${transaction.type} transaction`);\n\n    if (transaction.key !== undefined) {\n      return new Error(`\"key\" cannot be used with ${transaction.type} transaction.`);\n    }\n\n    if (transaction.legacyKey !== undefined) {\n      return new Error(`\"legacyKey\" cannot be used with ${transaction.type} transaction.`);\n    }\n\n    if (transaction.publicKey) {\n      return new Error(`\"publicKey\" cannot be used with ${transaction.type} transaction.`);\n    }\n\n    if (transaction.multisig) {\n      return new Error(`\"multisig\" cannot be used with ${transaction.type} transaction.`);\n    }\n\n    if (transaction.roleTransactionKey) {\n      return new Error(`\"roleTransactionKey\" cannot be used with ${transaction.type} transaction.`);\n    }\n\n    if (transaction.roleAccountUpdateKey) {\n      return new Error(`\"roleAccountUpdateKey\" cannot be used with ${transaction.type} transaction.`);\n    }\n\n    if (transaction.roleFeePayerKey) {\n      return new Error(`\"roleFeePayerKey\" cannot be used with ${transaction.type} transaction.`);\n    }\n\n    if (transaction.failKey !== undefined) {\n      return new Error(`\"failKey\" cannot be used with ${transaction.type} transaction.`);\n    }\n\n    return;\n  }\n\n  if (transaction.account) return new Error(`\"account\" cannot be used with ${transaction.type} transaction`);\n  const duplicatedKeyInfo = `The key parameter to be used for ${transaction.type} is duplicated.`;\n\n  if (!transaction.key && transaction.legacyKey === undefined && !transaction.publicKey && !transaction.multisig && !transaction.roleTransactionKey && !transaction.roleAccountUpdateKey && !transaction.roleFeePayerKey && transaction.failKey === undefined) {\n    return new Error(`Missing key information with ${transaction.type} transaction`);\n  }\n\n  if (transaction.key) {\n    if (transaction.legacyKey !== undefined || transaction.publicKey || transaction.multisig || transaction.roleTransactionKey || transaction.roleAccountUpdateKey || transaction.roleFeePayerKey || transaction.failKey !== undefined) {\n      return new Error(duplicatedKeyInfo);\n    }\n  } else if (transaction.legacyKey !== undefined) {\n    if (transaction.publicKey || transaction.multisig || transaction.roleTransactionKey || transaction.roleAccountUpdateKey || transaction.roleFeePayerKey || transaction.failKey !== undefined) {\n      return new Error(duplicatedKeyInfo);\n    }\n  } else if (transaction.publicKey) {\n    if (transaction.multisig || transaction.roleTransactionKey || transaction.roleAccountUpdateKey || transaction.roleFeePayerKey || transaction.failKey !== undefined) {\n      return new Error(duplicatedKeyInfo);\n    }\n  } else if (transaction.multisig) {\n    if (transaction.roleTransactionKey || transaction.roleAccountUpdateKey || transaction.roleFeePayerKey || transaction.failKey !== undefined) {\n      return new Error(duplicatedKeyInfo);\n    }\n  } else if (transaction.failKey !== undefined) {\n    if (transaction.roleTransactionKey || transaction.roleAccountUpdateKey || transaction.roleFeePayerKey) {\n      return new Error(duplicatedKeyInfo);\n    }\n  }\n}\n\nfunction checkUpdateEssential(transaction) {\n  if (transaction.to !== undefined) {\n    return new Error(`\"to\" cannot be used with ${transaction.type} transaction`);\n  }\n\n  if (transaction.value !== undefined) {\n    return new Error(`\"value\" cannot be used with ${transaction.type} transaction`);\n  }\n}\n\nfunction validateAccountUpdate(transaction) {\n  let error = checkUpdateEssential(transaction);\n  if (error) return error;\n  error = validateAccountTransaction(transaction);\n  if (error) return error;\n  return validateNonFeeDelegated(transaction);\n}\n\nfunction validateFeeDelegatedAccountUpdate(transaction) {\n  let error = checkUpdateEssential(transaction);\n  if (error) return error;\n  error = validateAccountTransaction(transaction);\n  if (error) return error;\n  return validateFeeDelegated(transaction);\n}\n\nfunction validateFeeDelegatedAccountUpdateWithRatio(transaction) {\n  return validateFeeDelegatedAccountUpdate(transaction);\n}\n\nfunction checkDeployEssential(transaction) {\n  if (transaction.value === undefined && !transaction.type.includes('TxType')) {\n    return new Error('\"value\" is missing');\n  }\n\n  if (transaction.input !== undefined && transaction.data !== undefined && !transaction.type.includes('TxType')) {\n    return new Error(`\"data\" and \"input\" cannot be used as properties of transactions at the same time.`);\n  }\n\n  if (transaction.input === undefined && transaction.data === undefined) {\n    if (transaction.type.includes('TxType')) return new Error('\"input\" is missing');\n    return new Error('\"data\" is missing');\n  } // To handle null in `to` field\n\n\n  if (transaction.to && transaction.to !== '0x') {\n    return new Error(`\"to\" cannot be used with ${transaction.type} transaction`);\n  }\n\n  if (transaction.codeFormat !== undefined && !validateCodeFormat(transaction.codeFormat)) {\n    return new Error(`The codeFormat(${transaction.codeFormat}) is invalid.`);\n  }\n\n  if (transaction.humanReadable !== undefined && transaction.humanReadable === true) {\n    return new Error('HumanReadableAddress is not supported yet.');\n  }\n\n  if (transaction.accessList !== undefined) {\n    return new Error(`\"accessList\" cannot be used with ${transaction.type} transaction`);\n  }\n\n  if (transaction.maxPriorityFeePerGas !== undefined) {\n    return new Error(`\"maxPriorityFeePerGas\" cannot be used with ${transaction.type} transaction`);\n  }\n\n  if (transaction.maxFeePerGas !== undefined) {\n    return new Error(`\"maxFeePerGas\" cannot be used with ${transaction.type} transaction`);\n  }\n}\n\nfunction validateSmartContractDeploy(transaction) {\n  let error = checkDeployEssential(transaction);\n  if (error) return error;\n  error = validateNonFeeDelegated(transaction);\n  if (error) return error;\n  return validateNotAccountTransaction(transaction);\n}\n\nfunction validateFeeDelegatedSmartContractDeploy(transaction) {\n  let error = checkDeployEssential(transaction);\n  if (error) return error;\n  error = validateNotAccountTransaction(transaction);\n  if (error) return error;\n  return validateFeeDelegated(transaction);\n}\n\nfunction validateFeeDelegatedSmartContractDeployWithRatio(transaction) {\n  return validateFeeDelegatedSmartContractDeploy(transaction);\n}\n\nfunction checkExecutionEssential(transaction) {\n  if (transaction.to === undefined) {\n    return new Error('\"to\" is missing');\n  }\n\n  if (!utils.isAddress(transaction.to)) {\n    return new Error(`Invalid address of to: ${transaction.to}`);\n  }\n\n  if (transaction.input !== undefined && transaction.data !== undefined) {\n    return new Error(`\"data\" and \"input\" cannot be used as properties of transactions at the same time.`);\n  }\n\n  if (transaction.input === undefined && transaction.data === undefined) {\n    if (transaction.type.includes('TxType')) return new Error('\"input\" is missing');\n    return new Error('\"data\" is missing');\n  }\n\n  if (transaction.codeFormat !== undefined) {\n    return new Error(`\"codeFormat\" cannot be used with ${transaction.type} transaction`);\n  }\n\n  if (transaction.humanReadable !== undefined) {\n    return new Error(`\"humanReadable\" cannot be used with ${transaction.type} transaction`);\n  }\n\n  if (transaction.accessList !== undefined) {\n    return new Error(`\"accessList\" cannot be used with ${transaction.type} transaction`);\n  }\n\n  if (transaction.maxPriorityFeePerGas !== undefined) {\n    return new Error(`\"maxPriorityFeePerGas\" cannot be used with ${transaction.type} transaction`);\n  }\n\n  if (transaction.maxFeePerGas !== undefined) {\n    return new Error(`\"maxFeePerGas\" cannot be used with ${transaction.type} transaction`);\n  }\n}\n\nfunction validateSmartContractExecution(transaction) {\n  let error = checkExecutionEssential(transaction);\n  if (error) return error;\n  error = validateNonFeeDelegated(transaction);\n  if (error) return error;\n  return validateNotAccountTransaction(transaction);\n}\n\nfunction validateFeeDelegatedSmartContractExecution(transaction) {\n  let error = checkExecutionEssential(transaction);\n  if (error) return error;\n  error = validateNotAccountTransaction(transaction);\n  if (error) return error;\n  return validateFeeDelegated(transaction);\n}\n\nfunction validateFeeDelegatedSmartContractExecutionWithRatio(transaction) {\n  return validateFeeDelegatedSmartContractExecution(transaction);\n}\n\nfunction checkCacncelEssential(transaction) {\n  if (transaction.to !== undefined) {\n    return new Error(`\"to\" cannot be used with ${transaction.type} transaction`);\n  }\n\n  if (transaction.value !== undefined) {\n    return new Error(`\"value\" cannot be used with ${transaction.type} transaction`);\n  }\n\n  if (transaction.data !== undefined) {\n    return new Error(`\"data\" cannot be used with ${transaction.type} transaction`);\n  }\n\n  if (transaction.input !== undefined) {\n    return new Error(`\"input\" cannot be used with ${transaction.type} transaction`);\n  }\n\n  if (transaction.codeFormat !== undefined) {\n    return new Error(`\"codeFormat\" cannot be used with ${transaction.type} transaction`);\n  }\n\n  if (transaction.humanReadable !== undefined) {\n    return new Error(`\"humanReadable\" cannot be used with ${transaction.type} transaction`);\n  }\n\n  if (transaction.accessList !== undefined) {\n    return new Error(`\"accessList\" cannot be used with ${transaction.type} transaction`);\n  }\n\n  if (transaction.maxPriorityFeePerGas !== undefined) {\n    return new Error(`\"maxPriorityFeePerGas\" cannot be used with ${transaction.type} transaction`);\n  }\n\n  if (transaction.maxFeePerGas !== undefined) {\n    return new Error(`\"maxFeePerGas\" cannot be used with ${transaction.type} transaction`);\n  }\n}\n\nfunction validateCancel(transaction) {\n  let error = checkCacncelEssential(transaction);\n  if (error) return error;\n  error = validateNonFeeDelegated(transaction);\n  if (error) return error;\n  return validateNotAccountTransaction(transaction);\n}\n\nfunction validateFeeDelegatedCancel(transaction) {\n  let error = checkCacncelEssential(transaction);\n  if (error) return error;\n  error = validateNotAccountTransaction(transaction);\n  if (error) return error;\n  return validateFeeDelegated(transaction);\n}\n\nfunction validateFeeDelegatedCancelWithRatio(transaction) {\n  return validateFeeDelegatedCancel(transaction);\n}\n\nfunction checkChainDataAnchoringEssential(transaction) {\n  if (transaction.input !== undefined && transaction.data !== undefined) {\n    return new Error(`\"data\" and \"input\" cannot be used as properties of transactions at the same time.`);\n  }\n\n  if (transaction.input === undefined && transaction.data === undefined) {\n    if (transaction.anchoredData !== undefined) {\n      transaction.data = transaction.anchoredData;\n      delete transaction.anchoredData;\n    } else {\n      if (transaction.type.includes('TxType')) return new Error('\"input\" is missing');\n      return new Error('\"data\" is missing');\n    }\n  }\n\n  if (transaction.value !== undefined) {\n    return new Error(`\"value\" cannot be used with ${transaction.type} transaction`);\n  }\n\n  if (transaction.to !== undefined) {\n    return new Error(`\"to\" cannot be used with ${transaction.type} transaction`);\n  }\n\n  if (transaction.codeFormat !== undefined) {\n    return new Error(`\"codeFormat\" cannot be used with ${transaction.type} transaction`);\n  }\n\n  if (transaction.humanReadable !== undefined) {\n    return new Error(`\"humanReadable\" cannot be used with ${transaction.type} transaction`);\n  }\n\n  if (transaction.accessList !== undefined) {\n    return new Error(`\"accessList\" cannot be used with ${transaction.type} transaction`);\n  }\n\n  if (transaction.maxPriorityFeePerGas !== undefined) {\n    return new Error(`\"maxPriorityFeePerGas\" cannot be used with ${transaction.type} transaction`);\n  }\n\n  if (transaction.maxFeePerGas !== undefined) {\n    return new Error(`\"maxFeePerGas\" cannot be used with ${transaction.type} transaction`);\n  }\n}\n\nfunction validateChainDataAnchoring(transaction) {\n  let error = checkChainDataAnchoringEssential(transaction);\n  if (error) return error;\n  error = validateNonFeeDelegated(transaction);\n  if (error) return error;\n  return validateNotAccountTransaction(transaction);\n}\n\nfunction validateFeeDelegatedChainDataAnchoring(transaction) {\n  let error = checkChainDataAnchoringEssential(transaction);\n  if (error) return error;\n  error = validateNotAccountTransaction(transaction);\n  if (error) return error;\n  return validateFeeDelegated(transaction);\n}\n\nfunction validateFeeDelegatedChainDataAnchoringWithRatio(transaction) {\n  return validateFeeDelegatedChainDataAnchoring(transaction);\n}\n\nfunction validateEthereumAccessList(transaction) {\n  if (transaction.to === undefined && transaction.data === undefined && transaction.input === undefined) {\n    return new Error('contract creation without any data provided');\n  }\n\n  if (transaction.to && transaction.to !== '0x' && transaction.to !== '0x0000000000000000000000000000000000000000' && !utils.isAddress(transaction.to)) {\n    return new Error(`Invalid address of to: ${transaction.to}`);\n  }\n\n  if (transaction.codeFormat !== undefined) {\n    return new Error(`\"codeFormat\" cannot be used with ${transaction.type} transaction`);\n  }\n\n  if (transaction.humanReadable !== undefined) {\n    return new Error(`\"humanReadable\" cannot be used with ${transaction.type} transaction`);\n  }\n\n  if (transaction.maxPriorityFeePerGas !== undefined) {\n    return new Error(`\"maxPriorityFeePerGas\" cannot be used with ${transaction.type} transaction`);\n  }\n\n  if (transaction.maxFeePerGas !== undefined) {\n    return new Error(`\"maxFeePerGas\" cannot be used with ${transaction.type} transaction`);\n  }\n\n  const error = validateNonFeeDelegated(transaction);\n  if (error) return error;\n  return validateNotAccountTransaction(transaction);\n}\n\nfunction validateEthereumDynamicFee(transaction) {\n  if (transaction.to === undefined && transaction.data === undefined && transaction.input === undefined) {\n    return new Error('contract creation without any data provided');\n  }\n\n  if (transaction.to && transaction.to !== '0x' && transaction.to !== '0x0000000000000000000000000000000000000000' && !utils.isAddress(transaction.to)) {\n    return new Error(`Invalid address of to: ${transaction.to}`);\n  }\n\n  if (transaction.codeFormat !== undefined) {\n    return new Error(`\"codeFormat\" cannot be used with ${transaction.type} transaction`);\n  }\n\n  if (transaction.humanReadable !== undefined) {\n    return new Error(`\"humanReadable\" cannot be used with ${transaction.type} transaction`);\n  }\n\n  if (transaction.gasPrice !== undefined) {\n    return new Error(`\"gasPrice\" cannot be used with ${transaction.type} transaction. Please use the maxPriorityFeePerGas and maxFeePerGas.`);\n  }\n\n  const error = validateNonFeeDelegated(transaction);\n  if (error) return error;\n  return validateNotAccountTransaction(transaction);\n}\n\nmodule.exports = {\n  validateParams,\n  validateTxType,\n  validateCodeFormat\n};","map":{"version":3,"names":["utils","require","TX_TYPE_STRING","isEthereumTxType","validateParams","tx","error","senderRawTransaction","feePayer","Error","isAddress","isValidateType","validateTxType","type","validateTxObjectWithType","undefined","from","gas","gasLimit","nonce","gasPrice","chainId","feePayerSignatures","isEmptySig","txType","TxTypeValueTransfer","TxTypeFeeDelegatedValueTransfer","TxTypeFeeDelegatedValueTransferWithRatio","TxTypeValueTransferMemo","TxTypeFeeDelegatedValueTransferMemo","TxTypeFeeDelegatedValueTransferMemoWithRatio","TxTypeAccountUpdate","TxTypeFeeDelegatedAccountUpdate","TxTypeFeeDelegatedAccountUpdateWithRatio","TxTypeSmartContractDeploy","TxTypeFeeDelegatedSmartContractDeploy","TxTypeFeeDelegatedSmartContractDeployWithRatio","TxTypeSmartContractExecution","TxTypeFeeDelegatedSmartContractExecution","TxTypeFeeDelegatedSmartContractExecutionWithRatio","TxTypeCancel","TxTypeFeeDelegatedCancel","TxTypeFeeDelegatedCancelWithRatio","TxTypeChainDataAnchoring","TxTypeFeeDelegatedChainDataAnchoring","TxTypeFeeDelegatedChainDataAnchoringWithRatio","TxTypeLegacyTransaction","TxTypeEthereumAccessList","TxTypeEthereumDynamicFee","validateCodeFormat","cf","validateLegacy","validateValueTransfer","validateFeeDelegatedValueTransfer","validateFeeDelegatedValueTransferWithRatio","validateValueTransferMemo","validateFeeDelegatedValueTransferMemo","validateFeeDelegatedValueTransferMemoWithRatio","validateAccountUpdate","validateFeeDelegatedAccountUpdate","validateFeeDelegatedAccountUpdateWithRatio","validateSmartContractDeploy","validateFeeDelegatedSmartContractDeploy","validateFeeDelegatedSmartContractDeployWithRatio","validateSmartContractExecution","validateFeeDelegatedSmartContractExecution","validateFeeDelegatedSmartContractExecutionWithRatio","validateCancel","validateFeeDelegatedCancel","validateFeeDelegatedCancelWithRatio","validateChainDataAnchoring","validateFeeDelegatedChainDataAnchoring","validateFeeDelegatedChainDataAnchoringWithRatio","validateEthereumAccessList","validateEthereumDynamicFee","transaction","to","data","input","codeFormat","humanReadable","accessList","maxPriorityFeePerGas","maxFeePerGas","validateNonFeeDelegated","validateNotAccountTransaction","feeRatio","validateFeeDelegated","includes","account","key","legacyKey","publicKey","multisig","roleTransactionKey","roleAccountUpdateKey","roleFeePayerKey","failKey","checkValueTransferEssential","value","checkValueTransferMemoEssential","validateAccountTransaction","duplicatedKeyInfo","checkUpdateEssential","checkDeployEssential","checkExecutionEssential","checkCacncelEssential","checkChainDataAnchoringEssential","anchoredData","module","exports"],"sources":["/Users/austinhatch/Documents/GitHub/Heracoin/herachain-demo/node_modules/caver-js/packages/caver-core-helpers/src/validateFunction.js"],"sourcesContent":["/*\n    Copyright 2018 The caver-js Authors\n    This file is part of the caver-js library.\n\n    The caver-js library is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Lesser General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    The caver-js library is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n    GNU Lesser General Public License for more details.\n\n    You should have received a copy of the GNU Lesser General Public License\n    along with the caver-js. If not, see <http://www.gnu.org/licenses/>.\n*/\n\n/**\n * Should be called to check the parameters of transaction\n *\n * @method validateParams\n * @param {Object}\n * @return {Error}\n */\n\nconst utils = require('../../caver-utils')\nconst { TX_TYPE_STRING, isEthereumTxType } = require('../../caver-transaction/src/transactionHelper/transactionHelper')\n\nfunction validateParams(tx) {\n    let error\n\n    // validate for fee payer transaction format\n    if (tx.senderRawTransaction) {\n        if (!tx.feePayer || tx.feePayer === '0x' || tx.feePayer === '0x0000000000000000000000000000000000000000') {\n            error = new Error(`Invalid fee payer: ${tx.feePayer}`)\n        } else if (!utils.isAddress(tx.feePayer)) {\n            error = new Error(`Invalid address of fee payer: ${tx.feePayer}`)\n        }\n        return error\n    }\n\n    const isValidateType = validateTxType(tx.type)\n    if (!isValidateType) {\n        return new Error(`The transaction type [${tx.type}] is not supported`)\n    }\n\n    error = validateTxObjectWithType(tx)\n    if (error !== undefined) {\n        return error\n    }\n\n    if (!isEthereumTxType(tx.type) && !tx.from) {\n        error = new Error('\"from\" is missing')\n    } else if (tx.from) {\n        if (tx.from === '0x' || tx.from === '0x0000000000000000000000000000000000000000') {\n            if (!isEthereumTxType(tx.type)) {\n                error = new Error(`Invalid address of from: ${tx.from}`)\n            }\n        } else if (!utils.isAddress(tx.from)) {\n            error = new Error(`Invalid address of from: ${tx.from}`)\n        }\n    }\n\n    if (tx.gas === undefined && tx.gasLimit === undefined) {\n        error = new Error('\"gas\" is missing')\n    } else if (tx.nonce < 0 || tx.gas < 0 || tx.gasLimit < 0 || (tx.gasPrice !== undefined && tx.gasPrice < 0) || tx.chainId < 0) {\n        error = new Error('gas(or gasLimit), gasPrice, nonce or chainId is lower than 0')\n    }\n\n    // If feePayerSignatures is set in transaction object, feePayer also should be defined together.\n    if (tx.feePayerSignatures && !utils.isEmptySig(tx.feePayerSignatures)) {\n        if (!tx.feePayer || tx.feePayer === '0x' || tx.feePayer === '0x0000000000000000000000000000000000000000') {\n            error = new Error('\"feePayer\" is missing: feePayer must be defined with feePayerSignatures.')\n        } else if (!utils.isAddress(tx.feePayer)) {\n            error = new Error(`Invalid address of fee payer: ${tx.feePayer}`)\n        }\n    }\n\n    return error\n}\n\n/**\n * Should be called to check the type of transaction\n * Transaction type has to be checked if type is set.\n *\n * @method validateTypes\n * @param {string}\n * @return {bool}\n */\nfunction validateTxType(txType) {\n    if (!txType) {\n        return true\n    }\n    switch (txType) {\n        case 'VALUE_TRANSFER':\n        case 'FEE_DELEGATED_VALUE_TRANSFER':\n        case 'FEE_DELEGATED_VALUE_TRANSFER_WITH_RATIO':\n        case 'VALUE_TRANSFER_MEMO':\n        case 'FEE_DELEGATED_VALUE_TRANSFER_MEMO':\n        case 'FEE_DELEGATED_VALUE_TRANSFER_MEMO_WITH_RATIO':\n        case 'ACCOUNT_UPDATE':\n        case 'FEE_DELEGATED_ACCOUNT_UPDATE':\n        case 'FEE_DELEGATED_ACCOUNT_UPDATE_WITH_RATIO':\n        case 'SMART_CONTRACT_DEPLOY':\n        case 'FEE_DELEGATED_SMART_CONTRACT_DEPLOY':\n        case 'FEE_DELEGATED_SMART_CONTRACT_DEPLOY_WITH_RATIO':\n        case 'SMART_CONTRACT_EXECUTION':\n        case 'FEE_DELEGATED_SMART_CONTRACT_EXECUTION':\n        case 'FEE_DELEGATED_SMART_CONTRACT_EXECUTION_WITH_RATIO':\n        case 'CANCEL':\n        case 'FEE_DELEGATED_CANCEL':\n        case 'FEE_DELEGATED_CANCEL_WITH_RATIO':\n        case 'CHAIN_DATA_ANCHORING':\n        case 'LEGACY':\n        case TX_TYPE_STRING.TxTypeValueTransfer:\n        case TX_TYPE_STRING.TxTypeFeeDelegatedValueTransfer:\n        case TX_TYPE_STRING.TxTypeFeeDelegatedValueTransferWithRatio:\n        case TX_TYPE_STRING.TxTypeValueTransferMemo:\n        case TX_TYPE_STRING.TxTypeFeeDelegatedValueTransferMemo:\n        case TX_TYPE_STRING.TxTypeFeeDelegatedValueTransferMemoWithRatio:\n        case TX_TYPE_STRING.TxTypeAccountUpdate:\n        case TX_TYPE_STRING.TxTypeFeeDelegatedAccountUpdate:\n        case TX_TYPE_STRING.TxTypeFeeDelegatedAccountUpdateWithRatio:\n        case TX_TYPE_STRING.TxTypeSmartContractDeploy:\n        case TX_TYPE_STRING.TxTypeFeeDelegatedSmartContractDeploy:\n        case TX_TYPE_STRING.TxTypeFeeDelegatedSmartContractDeployWithRatio:\n        case TX_TYPE_STRING.TxTypeSmartContractExecution:\n        case TX_TYPE_STRING.TxTypeFeeDelegatedSmartContractExecution:\n        case TX_TYPE_STRING.TxTypeFeeDelegatedSmartContractExecutionWithRatio:\n        case TX_TYPE_STRING.TxTypeCancel:\n        case TX_TYPE_STRING.TxTypeFeeDelegatedCancel:\n        case TX_TYPE_STRING.TxTypeFeeDelegatedCancelWithRatio:\n        case TX_TYPE_STRING.TxTypeChainDataAnchoring:\n        case TX_TYPE_STRING.TxTypeFeeDelegatedChainDataAnchoring:\n        case TX_TYPE_STRING.TxTypeFeeDelegatedChainDataAnchoringWithRatio:\n        case TX_TYPE_STRING.TxTypeLegacyTransaction:\n        case TX_TYPE_STRING.TxTypeEthereumAccessList:\n        case TX_TYPE_STRING.TxTypeEthereumDynamicFee:\n            return true\n    }\n    return false\n}\n\n/**\n * Should be called to check codeFormat\n *\n * @method validateTypes\n * @param {string}\n * @return {bool}\n */\nfunction validateCodeFormat(cf) {\n    if (cf === undefined) {\n        return true\n    }\n\n    switch (cf) {\n        case 0:\n        case 'EVM':\n        case '0x':\n        case '0x0':\n            return true\n    }\n    return false\n}\n\nfunction validateTxObjectWithType(tx) {\n    if (tx.type === undefined) {\n        return validateLegacy(tx)\n    }\n    switch (tx.type) {\n        case 'LEGACY':\n        case TX_TYPE_STRING.TxTypeLegacyTransaction:\n            return validateLegacy(tx)\n        case 'VALUE_TRANSFER':\n        case TX_TYPE_STRING.TxTypeValueTransfer:\n            return validateValueTransfer(tx)\n        case 'FEE_DELEGATED_VALUE_TRANSFER':\n        case TX_TYPE_STRING.TxTypeFeeDelegatedValueTransfer:\n            return validateFeeDelegatedValueTransfer(tx)\n        case 'FEE_DELEGATED_VALUE_TRANSFER_WITH_RATIO':\n        case TX_TYPE_STRING.TxTypeFeeDelegatedValueTransferWithRatio:\n            return validateFeeDelegatedValueTransferWithRatio(tx)\n        case 'VALUE_TRANSFER_MEMO':\n        case TX_TYPE_STRING.TxTypeValueTransferMemo:\n            return validateValueTransferMemo(tx)\n        case 'FEE_DELEGATED_VALUE_TRANSFER_MEMO':\n        case TX_TYPE_STRING.TxTypeFeeDelegatedValueTransferMemo:\n            return validateFeeDelegatedValueTransferMemo(tx)\n        case 'FEE_DELEGATED_VALUE_TRANSFER_MEMO_WITH_RATIO':\n        case TX_TYPE_STRING.TxTypeFeeDelegatedValueTransferMemoWithRatio:\n            return validateFeeDelegatedValueTransferMemoWithRatio(tx)\n        case 'ACCOUNT_UPDATE':\n        case TX_TYPE_STRING.TxTypeAccountUpdate:\n            return validateAccountUpdate(tx)\n        case 'FEE_DELEGATED_ACCOUNT_UPDATE':\n        case TX_TYPE_STRING.TxTypeFeeDelegatedAccountUpdate:\n            return validateFeeDelegatedAccountUpdate(tx)\n        case 'FEE_DELEGATED_ACCOUNT_UPDATE_WITH_RATIO':\n        case TX_TYPE_STRING.TxTypeFeeDelegatedAccountUpdateWithRatio:\n            return validateFeeDelegatedAccountUpdateWithRatio(tx)\n        case 'SMART_CONTRACT_DEPLOY':\n        case TX_TYPE_STRING.TxTypeSmartContractDeploy:\n            return validateSmartContractDeploy(tx)\n        case 'FEE_DELEGATED_SMART_CONTRACT_DEPLOY':\n        case TX_TYPE_STRING.TxTypeFeeDelegatedSmartContractDeploy:\n            return validateFeeDelegatedSmartContractDeploy(tx)\n        case 'FEE_DELEGATED_SMART_CONTRACT_DEPLOY_WITH_RATIO':\n        case TX_TYPE_STRING.TxTypeFeeDelegatedSmartContractDeployWithRatio:\n            return validateFeeDelegatedSmartContractDeployWithRatio(tx)\n        case 'SMART_CONTRACT_EXECUTION':\n        case TX_TYPE_STRING.TxTypeSmartContractExecution:\n            return validateSmartContractExecution(tx)\n        case 'FEE_DELEGATED_SMART_CONTRACT_EXECUTION':\n        case TX_TYPE_STRING.TxTypeFeeDelegatedSmartContractExecution:\n            return validateFeeDelegatedSmartContractExecution(tx)\n        case 'FEE_DELEGATED_SMART_CONTRACT_EXECUTION_WITH_RATIO':\n        case TX_TYPE_STRING.TxTypeFeeDelegatedSmartContractExecutionWithRatio:\n            return validateFeeDelegatedSmartContractExecutionWithRatio(tx)\n        case 'CANCEL':\n        case TX_TYPE_STRING.TxTypeCancel:\n            return validateCancel(tx)\n        case 'FEE_DELEGATED_CANCEL':\n        case TX_TYPE_STRING.TxTypeFeeDelegatedCancel:\n            return validateFeeDelegatedCancel(tx)\n        case 'FEE_DELEGATED_CANCEL_WITH_RATIO':\n        case TX_TYPE_STRING.TxTypeFeeDelegatedCancelWithRatio:\n            return validateFeeDelegatedCancelWithRatio(tx)\n        case 'CHAIN_DATA_ANCHORING':\n        case TX_TYPE_STRING.TxTypeChainDataAnchoring:\n            return validateChainDataAnchoring(tx)\n        case TX_TYPE_STRING.TxTypeFeeDelegatedChainDataAnchoring:\n            return validateFeeDelegatedChainDataAnchoring(tx)\n        case TX_TYPE_STRING.TxTypeFeeDelegatedChainDataAnchoringWithRatio:\n            return validateFeeDelegatedChainDataAnchoringWithRatio(tx)\n        case TX_TYPE_STRING.TxTypeEthereumAccessList:\n            return validateEthereumAccessList(tx)\n        case TX_TYPE_STRING.TxTypeEthereumDynamicFee:\n            return validateEthereumDynamicFee(tx)\n    }\n    return undefined\n}\n\nfunction validateLegacy(transaction) {\n    if (transaction.to === undefined && transaction.data === undefined && transaction.input === undefined) {\n        return new Error('contract creation without any data provided')\n    }\n\n    if (\n        transaction.to &&\n        transaction.to !== '0x' &&\n        transaction.to !== '0x0000000000000000000000000000000000000000' &&\n        !utils.isAddress(transaction.to)\n    ) {\n        return new Error(`Invalid address of to: ${transaction.to}`)\n    }\n\n    if (transaction.codeFormat !== undefined) {\n        return new Error(`\"codeFormat\" cannot be used with ${transaction.type} transaction`)\n    }\n\n    if (transaction.humanReadable !== undefined) {\n        return new Error(`\"humanReadable\" cannot be used with ${transaction.type} transaction`)\n    }\n\n    if (transaction.accessList !== undefined) {\n        return new Error(`\"accessList\" cannot be used with ${transaction.type} transaction`)\n    }\n\n    if (transaction.maxPriorityFeePerGas !== undefined) {\n        return new Error(`\"maxPriorityFeePerGas\" cannot be used with ${transaction.type} transaction`)\n    }\n\n    if (transaction.maxFeePerGas !== undefined) {\n        return new Error(`\"maxFeePerGas\" cannot be used with ${transaction.type} transaction`)\n    }\n\n    const error = validateNonFeeDelegated(transaction)\n    if (error) return error\n\n    return validateNotAccountTransaction(transaction)\n}\n\nfunction validateNonFeeDelegated(transaction) {\n    const type = transaction.type ? transaction.type : 'LEGACY'\n    if (transaction.feePayer !== undefined) {\n        return new Error(`\"feePayer\" cannot be used with ${type} transaction`)\n    }\n    if (transaction.feeRatio !== undefined) {\n        return new Error(`\"feeRatio\" cannot be used with ${type} transaction`)\n    }\n    if (transaction.feePayerSignatures !== undefined) {\n        return new Error(`\"feePayerSignatures\" cannot be used with ${type} transaction`)\n    }\n}\n\nfunction validateFeeDelegated(transaction) {\n    if (transaction.type.includes('WITH_RATIO') || transaction.type.includes('WithRatio')) {\n        if (transaction.feeRatio === undefined) {\n            return new Error('\"feeRatio\" is missing')\n        }\n    } else if (transaction.feeRatio !== undefined) {\n        return new Error(`\"feeRatio\" cannot be used with ${transaction.type} transaction`)\n    }\n}\n\nfunction validateNotAccountTransaction(transaction) {\n    const type = transaction.type ? transaction.type : 'LEGACY'\n    if (transaction.account !== undefined) {\n        return new Error(`\"account\" cannot be used with ${type} transaction`)\n    }\n    if (transaction.key !== undefined) {\n        return new Error(`\"key\" cannot be used with ${type} transaction`)\n    }\n    if (transaction.legacyKey !== undefined) {\n        return new Error(`\"legacyKey\" cannot be used with ${type} transaction`)\n    }\n    if (transaction.publicKey !== undefined) {\n        return new Error(`\"publicKey\" cannot be used with ${type} transaction`)\n    }\n    if (transaction.multisig !== undefined) {\n        return new Error(`\"multisig\" cannot be used with ${type} transaction`)\n    }\n    if (transaction.roleTransactionKey !== undefined) {\n        return new Error(`\"roleTransactionKey\" cannot be used with ${type} transaction`)\n    }\n    if (transaction.roleAccountUpdateKey !== undefined) {\n        return new Error(`\"roleAccountUpdateKey\" cannot be used with ${type} transaction`)\n    }\n    if (transaction.roleFeePayerKey !== undefined) {\n        return new Error(`\"roleFeePayerKey\" cannot be used with ${type} transaction`)\n    }\n    if (transaction.failKey !== undefined) {\n        return new Error(`\"failKey\" cannot be used with ${type} transaction`)\n    }\n}\n\nfunction checkValueTransferEssential(transaction) {\n    if (transaction.to === undefined) {\n        return new Error('\"to\" is missing')\n    }\n    if (!utils.isAddress(transaction.to)) {\n        return new Error(`Invalid address of to: ${transaction.to}`)\n    }\n    if (transaction.value === undefined) {\n        return new Error('\"value\" is missing')\n    }\n    if (transaction.codeFormat !== undefined) {\n        return new Error(`\"codeFormat\" cannot be used with ${transaction.type} transaction`)\n    }\n    if (transaction.data !== undefined) {\n        return new Error(`\"data\" cannot be used with ${transaction.type} transaction`)\n    }\n    if (transaction.input !== undefined) {\n        return new Error(`\"input\" cannot be used with ${transaction.type} transaction`)\n    }\n    if (transaction.humanReadable !== undefined) {\n        return new Error(`\"humanReadable\" cannot be used with ${transaction.type} transaction`)\n    }\n    if (transaction.accessList !== undefined) {\n        return new Error(`\"accessList\" cannot be used with ${transaction.type} transaction`)\n    }\n    if (transaction.maxPriorityFeePerGas !== undefined) {\n        return new Error(`\"maxPriorityFeePerGas\" cannot be used with ${transaction.type} transaction`)\n    }\n    if (transaction.maxFeePerGas !== undefined) {\n        return new Error(`\"maxFeePerGas\" cannot be used with ${transaction.type} transaction`)\n    }\n}\n\nfunction validateValueTransfer(transaction) {\n    let error = checkValueTransferEssential(transaction)\n    if (error) return error\n\n    error = validateNonFeeDelegated(transaction)\n    if (error) return error\n\n    return validateNotAccountTransaction(transaction)\n}\n\nfunction validateFeeDelegatedValueTransfer(transaction) {\n    let error = checkValueTransferEssential(transaction)\n    if (error) return error\n\n    error = validateFeeDelegated(transaction)\n    if (error) return error\n\n    return validateNotAccountTransaction(transaction)\n}\n\nfunction validateFeeDelegatedValueTransferWithRatio(transaction) {\n    return validateFeeDelegatedValueTransfer(transaction)\n}\n\nfunction checkValueTransferMemoEssential(transaction) {\n    if (transaction.to === undefined) {\n        return new Error('\"to\" is missing')\n    }\n    if (!utils.isAddress(transaction.to)) {\n        return new Error(`Invalid address of to: ${transaction.to}`)\n    }\n    if (transaction.value === undefined) {\n        return new Error('\"value\" is missing')\n    }\n\n    if (transaction.input !== undefined && transaction.data !== undefined) {\n        return new Error(`\"data\" and \"input\" cannot be used as properties of transactions at the same time.`)\n    }\n    if (transaction.input === undefined && transaction.data === undefined) {\n        if (transaction.type.includes('TxType')) return new Error('\"input\" is missing')\n        return new Error('\"data\" is missing')\n    }\n\n    if (transaction.codeFormat !== undefined) {\n        return new Error(`\"codeFormat\" cannot be used with ${transaction.type} transaction`)\n    }\n    if (transaction.humanReadable !== undefined) {\n        return new Error(`\"humanReadable\" cannot be used with ${transaction.type} transaction`)\n    }\n    if (transaction.accessList !== undefined) {\n        return new Error(`\"accessList\" cannot be used with ${transaction.type} transaction`)\n    }\n    if (transaction.maxPriorityFeePerGas !== undefined) {\n        return new Error(`\"maxPriorityFeePerGas\" cannot be used with ${transaction.type} transaction`)\n    }\n    if (transaction.maxFeePerGas !== undefined) {\n        return new Error(`\"maxFeePerGas\" cannot be used with ${transaction.type} transaction`)\n    }\n}\n\nfunction validateValueTransferMemo(transaction) {\n    let error = checkValueTransferMemoEssential(transaction)\n    if (error) return error\n\n    error = validateNonFeeDelegated(transaction)\n    if (error) return error\n\n    return validateNotAccountTransaction(transaction)\n}\n\nfunction validateFeeDelegatedValueTransferMemo(transaction) {\n    let error = checkValueTransferMemoEssential(transaction)\n    if (error) return error\n\n    error = validateFeeDelegated(transaction)\n    if (error) return error\n\n    return validateNotAccountTransaction(transaction)\n}\n\nfunction validateFeeDelegatedValueTransferMemoWithRatio(transaction) {\n    return validateFeeDelegatedValueTransferMemo(transaction)\n}\n\nfunction validateAccountTransaction(transaction) {\n    if (transaction.data !== undefined) {\n        return new Error(`\"data\" cannot be used with ${transaction.type} transaction`)\n    }\n    if (transaction.input !== undefined) {\n        return new Error(`\"input\" cannot be used with ${transaction.type} transaction`)\n    }\n    if (transaction.codeFormat !== undefined) {\n        return new Error(`\"codeFormat\" cannot be used with ${transaction.type} transaction`)\n    }\n    if (transaction.humanReadable !== undefined) {\n        return new Error(`\"humanReadable\" cannot be used with ${transaction.type} transaction`)\n    }\n    if (transaction.accessList !== undefined) {\n        return new Error(`\"accessList\" cannot be used with ${transaction.type} transaction`)\n    }\n    if (transaction.maxPriorityFeePerGas !== undefined) {\n        return new Error(`\"maxPriorityFeePerGas\" cannot be used with ${transaction.type} transaction`)\n    }\n    if (transaction.maxFeePerGas !== undefined) {\n        return new Error(`\"maxFeePerGas\" cannot be used with ${transaction.type} transaction`)\n    }\n\n    // TxTypeAccountUpdate, TxTypeFeeDelegatedAccountUpdate and TxTypeFeeDelegatedAccountUpdateWithRatio transaction use 'account' only\n    if (transaction.type.includes('TxType')) {\n        if (!transaction.account) return new Error(`Missing account information with ${transaction.type} transaction`)\n\n        if (transaction.key !== undefined) {\n            return new Error(`\"key\" cannot be used with ${transaction.type} transaction.`)\n        }\n        if (transaction.legacyKey !== undefined) {\n            return new Error(`\"legacyKey\" cannot be used with ${transaction.type} transaction.`)\n        }\n        if (transaction.publicKey) {\n            return new Error(`\"publicKey\" cannot be used with ${transaction.type} transaction.`)\n        }\n        if (transaction.multisig) {\n            return new Error(`\"multisig\" cannot be used with ${transaction.type} transaction.`)\n        }\n        if (transaction.roleTransactionKey) {\n            return new Error(`\"roleTransactionKey\" cannot be used with ${transaction.type} transaction.`)\n        }\n        if (transaction.roleAccountUpdateKey) {\n            return new Error(`\"roleAccountUpdateKey\" cannot be used with ${transaction.type} transaction.`)\n        }\n        if (transaction.roleFeePayerKey) {\n            return new Error(`\"roleFeePayerKey\" cannot be used with ${transaction.type} transaction.`)\n        }\n        if (transaction.failKey !== undefined) {\n            return new Error(`\"failKey\" cannot be used with ${transaction.type} transaction.`)\n        }\n\n        return\n    }\n\n    if (transaction.account) return new Error(`\"account\" cannot be used with ${transaction.type} transaction`)\n\n    const duplicatedKeyInfo = `The key parameter to be used for ${transaction.type} is duplicated.`\n    if (\n        !transaction.key &&\n        transaction.legacyKey === undefined &&\n        !transaction.publicKey &&\n        !transaction.multisig &&\n        !transaction.roleTransactionKey &&\n        !transaction.roleAccountUpdateKey &&\n        !transaction.roleFeePayerKey &&\n        transaction.failKey === undefined\n    ) {\n        return new Error(`Missing key information with ${transaction.type} transaction`)\n    }\n    if (transaction.key) {\n        if (\n            transaction.legacyKey !== undefined ||\n            transaction.publicKey ||\n            transaction.multisig ||\n            transaction.roleTransactionKey ||\n            transaction.roleAccountUpdateKey ||\n            transaction.roleFeePayerKey ||\n            transaction.failKey !== undefined\n        ) {\n            return new Error(duplicatedKeyInfo)\n        }\n    } else if (transaction.legacyKey !== undefined) {\n        if (\n            transaction.publicKey ||\n            transaction.multisig ||\n            transaction.roleTransactionKey ||\n            transaction.roleAccountUpdateKey ||\n            transaction.roleFeePayerKey ||\n            transaction.failKey !== undefined\n        ) {\n            return new Error(duplicatedKeyInfo)\n        }\n    } else if (transaction.publicKey) {\n        if (\n            transaction.multisig ||\n            transaction.roleTransactionKey ||\n            transaction.roleAccountUpdateKey ||\n            transaction.roleFeePayerKey ||\n            transaction.failKey !== undefined\n        ) {\n            return new Error(duplicatedKeyInfo)\n        }\n    } else if (transaction.multisig) {\n        if (\n            transaction.roleTransactionKey ||\n            transaction.roleAccountUpdateKey ||\n            transaction.roleFeePayerKey ||\n            transaction.failKey !== undefined\n        ) {\n            return new Error(duplicatedKeyInfo)\n        }\n    } else if (transaction.failKey !== undefined) {\n        if (transaction.roleTransactionKey || transaction.roleAccountUpdateKey || transaction.roleFeePayerKey) {\n            return new Error(duplicatedKeyInfo)\n        }\n    }\n}\n\nfunction checkUpdateEssential(transaction) {\n    if (transaction.to !== undefined) {\n        return new Error(`\"to\" cannot be used with ${transaction.type} transaction`)\n    }\n    if (transaction.value !== undefined) {\n        return new Error(`\"value\" cannot be used with ${transaction.type} transaction`)\n    }\n}\n\nfunction validateAccountUpdate(transaction) {\n    let error = checkUpdateEssential(transaction)\n    if (error) return error\n\n    error = validateAccountTransaction(transaction)\n    if (error) return error\n\n    return validateNonFeeDelegated(transaction)\n}\n\nfunction validateFeeDelegatedAccountUpdate(transaction) {\n    let error = checkUpdateEssential(transaction)\n    if (error) return error\n\n    error = validateAccountTransaction(transaction)\n    if (error) return error\n\n    return validateFeeDelegated(transaction)\n}\n\nfunction validateFeeDelegatedAccountUpdateWithRatio(transaction) {\n    return validateFeeDelegatedAccountUpdate(transaction)\n}\n\nfunction checkDeployEssential(transaction) {\n    if (transaction.value === undefined && !transaction.type.includes('TxType')) {\n        return new Error('\"value\" is missing')\n    }\n\n    if (transaction.input !== undefined && transaction.data !== undefined && !transaction.type.includes('TxType')) {\n        return new Error(`\"data\" and \"input\" cannot be used as properties of transactions at the same time.`)\n    }\n    if (transaction.input === undefined && transaction.data === undefined) {\n        if (transaction.type.includes('TxType')) return new Error('\"input\" is missing')\n        return new Error('\"data\" is missing')\n    }\n\n    // To handle null in `to` field\n    if (transaction.to && transaction.to !== '0x') {\n        return new Error(`\"to\" cannot be used with ${transaction.type} transaction`)\n    }\n    if (transaction.codeFormat !== undefined && !validateCodeFormat(transaction.codeFormat)) {\n        return new Error(`The codeFormat(${transaction.codeFormat}) is invalid.`)\n    }\n    if (transaction.humanReadable !== undefined && transaction.humanReadable === true) {\n        return new Error('HumanReadableAddress is not supported yet.')\n    }\n    if (transaction.accessList !== undefined) {\n        return new Error(`\"accessList\" cannot be used with ${transaction.type} transaction`)\n    }\n    if (transaction.maxPriorityFeePerGas !== undefined) {\n        return new Error(`\"maxPriorityFeePerGas\" cannot be used with ${transaction.type} transaction`)\n    }\n    if (transaction.maxFeePerGas !== undefined) {\n        return new Error(`\"maxFeePerGas\" cannot be used with ${transaction.type} transaction`)\n    }\n}\n\nfunction validateSmartContractDeploy(transaction) {\n    let error = checkDeployEssential(transaction)\n    if (error) return error\n\n    error = validateNonFeeDelegated(transaction)\n    if (error) return error\n\n    return validateNotAccountTransaction(transaction)\n}\n\nfunction validateFeeDelegatedSmartContractDeploy(transaction) {\n    let error = checkDeployEssential(transaction)\n    if (error) return error\n\n    error = validateNotAccountTransaction(transaction)\n    if (error) return error\n\n    return validateFeeDelegated(transaction)\n}\n\nfunction validateFeeDelegatedSmartContractDeployWithRatio(transaction) {\n    return validateFeeDelegatedSmartContractDeploy(transaction)\n}\n\nfunction checkExecutionEssential(transaction) {\n    if (transaction.to === undefined) {\n        return new Error('\"to\" is missing')\n    }\n    if (!utils.isAddress(transaction.to)) {\n        return new Error(`Invalid address of to: ${transaction.to}`)\n    }\n\n    if (transaction.input !== undefined && transaction.data !== undefined) {\n        return new Error(`\"data\" and \"input\" cannot be used as properties of transactions at the same time.`)\n    }\n    if (transaction.input === undefined && transaction.data === undefined) {\n        if (transaction.type.includes('TxType')) return new Error('\"input\" is missing')\n        return new Error('\"data\" is missing')\n    }\n\n    if (transaction.codeFormat !== undefined) {\n        return new Error(`\"codeFormat\" cannot be used with ${transaction.type} transaction`)\n    }\n    if (transaction.humanReadable !== undefined) {\n        return new Error(`\"humanReadable\" cannot be used with ${transaction.type} transaction`)\n    }\n    if (transaction.accessList !== undefined) {\n        return new Error(`\"accessList\" cannot be used with ${transaction.type} transaction`)\n    }\n    if (transaction.maxPriorityFeePerGas !== undefined) {\n        return new Error(`\"maxPriorityFeePerGas\" cannot be used with ${transaction.type} transaction`)\n    }\n    if (transaction.maxFeePerGas !== undefined) {\n        return new Error(`\"maxFeePerGas\" cannot be used with ${transaction.type} transaction`)\n    }\n}\n\nfunction validateSmartContractExecution(transaction) {\n    let error = checkExecutionEssential(transaction)\n    if (error) return error\n\n    error = validateNonFeeDelegated(transaction)\n    if (error) return error\n\n    return validateNotAccountTransaction(transaction)\n}\n\nfunction validateFeeDelegatedSmartContractExecution(transaction) {\n    let error = checkExecutionEssential(transaction)\n    if (error) return error\n\n    error = validateNotAccountTransaction(transaction)\n    if (error) return error\n\n    return validateFeeDelegated(transaction)\n}\n\nfunction validateFeeDelegatedSmartContractExecutionWithRatio(transaction) {\n    return validateFeeDelegatedSmartContractExecution(transaction)\n}\n\nfunction checkCacncelEssential(transaction) {\n    if (transaction.to !== undefined) {\n        return new Error(`\"to\" cannot be used with ${transaction.type} transaction`)\n    }\n    if (transaction.value !== undefined) {\n        return new Error(`\"value\" cannot be used with ${transaction.type} transaction`)\n    }\n    if (transaction.data !== undefined) {\n        return new Error(`\"data\" cannot be used with ${transaction.type} transaction`)\n    }\n    if (transaction.input !== undefined) {\n        return new Error(`\"input\" cannot be used with ${transaction.type} transaction`)\n    }\n    if (transaction.codeFormat !== undefined) {\n        return new Error(`\"codeFormat\" cannot be used with ${transaction.type} transaction`)\n    }\n    if (transaction.humanReadable !== undefined) {\n        return new Error(`\"humanReadable\" cannot be used with ${transaction.type} transaction`)\n    }\n    if (transaction.accessList !== undefined) {\n        return new Error(`\"accessList\" cannot be used with ${transaction.type} transaction`)\n    }\n    if (transaction.maxPriorityFeePerGas !== undefined) {\n        return new Error(`\"maxPriorityFeePerGas\" cannot be used with ${transaction.type} transaction`)\n    }\n    if (transaction.maxFeePerGas !== undefined) {\n        return new Error(`\"maxFeePerGas\" cannot be used with ${transaction.type} transaction`)\n    }\n}\n\nfunction validateCancel(transaction) {\n    let error = checkCacncelEssential(transaction)\n    if (error) return error\n\n    error = validateNonFeeDelegated(transaction)\n    if (error) return error\n\n    return validateNotAccountTransaction(transaction)\n}\n\nfunction validateFeeDelegatedCancel(transaction) {\n    let error = checkCacncelEssential(transaction)\n    if (error) return error\n\n    error = validateNotAccountTransaction(transaction)\n    if (error) return error\n\n    return validateFeeDelegated(transaction)\n}\n\nfunction validateFeeDelegatedCancelWithRatio(transaction) {\n    return validateFeeDelegatedCancel(transaction)\n}\n\nfunction checkChainDataAnchoringEssential(transaction) {\n    if (transaction.input !== undefined && transaction.data !== undefined) {\n        return new Error(`\"data\" and \"input\" cannot be used as properties of transactions at the same time.`)\n    }\n    if (transaction.input === undefined && transaction.data === undefined) {\n        if (transaction.anchoredData !== undefined) {\n            transaction.data = transaction.anchoredData\n            delete transaction.anchoredData\n        } else {\n            if (transaction.type.includes('TxType')) return new Error('\"input\" is missing')\n            return new Error('\"data\" is missing')\n        }\n    }\n\n    if (transaction.value !== undefined) {\n        return new Error(`\"value\" cannot be used with ${transaction.type} transaction`)\n    }\n    if (transaction.to !== undefined) {\n        return new Error(`\"to\" cannot be used with ${transaction.type} transaction`)\n    }\n    if (transaction.codeFormat !== undefined) {\n        return new Error(`\"codeFormat\" cannot be used with ${transaction.type} transaction`)\n    }\n    if (transaction.humanReadable !== undefined) {\n        return new Error(`\"humanReadable\" cannot be used with ${transaction.type} transaction`)\n    }\n    if (transaction.accessList !== undefined) {\n        return new Error(`\"accessList\" cannot be used with ${transaction.type} transaction`)\n    }\n    if (transaction.maxPriorityFeePerGas !== undefined) {\n        return new Error(`\"maxPriorityFeePerGas\" cannot be used with ${transaction.type} transaction`)\n    }\n    if (transaction.maxFeePerGas !== undefined) {\n        return new Error(`\"maxFeePerGas\" cannot be used with ${transaction.type} transaction`)\n    }\n}\n\nfunction validateChainDataAnchoring(transaction) {\n    let error = checkChainDataAnchoringEssential(transaction)\n    if (error) return error\n\n    error = validateNonFeeDelegated(transaction)\n    if (error) return error\n\n    return validateNotAccountTransaction(transaction)\n}\n\nfunction validateFeeDelegatedChainDataAnchoring(transaction) {\n    let error = checkChainDataAnchoringEssential(transaction)\n    if (error) return error\n\n    error = validateNotAccountTransaction(transaction)\n    if (error) return error\n\n    return validateFeeDelegated(transaction)\n}\n\nfunction validateFeeDelegatedChainDataAnchoringWithRatio(transaction) {\n    return validateFeeDelegatedChainDataAnchoring(transaction)\n}\n\nfunction validateEthereumAccessList(transaction) {\n    if (transaction.to === undefined && transaction.data === undefined && transaction.input === undefined) {\n        return new Error('contract creation without any data provided')\n    }\n\n    if (\n        transaction.to &&\n        transaction.to !== '0x' &&\n        transaction.to !== '0x0000000000000000000000000000000000000000' &&\n        !utils.isAddress(transaction.to)\n    ) {\n        return new Error(`Invalid address of to: ${transaction.to}`)\n    }\n\n    if (transaction.codeFormat !== undefined) {\n        return new Error(`\"codeFormat\" cannot be used with ${transaction.type} transaction`)\n    }\n\n    if (transaction.humanReadable !== undefined) {\n        return new Error(`\"humanReadable\" cannot be used with ${transaction.type} transaction`)\n    }\n\n    if (transaction.maxPriorityFeePerGas !== undefined) {\n        return new Error(`\"maxPriorityFeePerGas\" cannot be used with ${transaction.type} transaction`)\n    }\n\n    if (transaction.maxFeePerGas !== undefined) {\n        return new Error(`\"maxFeePerGas\" cannot be used with ${transaction.type} transaction`)\n    }\n\n    const error = validateNonFeeDelegated(transaction)\n    if (error) return error\n\n    return validateNotAccountTransaction(transaction)\n}\n\nfunction validateEthereumDynamicFee(transaction) {\n    if (transaction.to === undefined && transaction.data === undefined && transaction.input === undefined) {\n        return new Error('contract creation without any data provided')\n    }\n\n    if (\n        transaction.to &&\n        transaction.to !== '0x' &&\n        transaction.to !== '0x0000000000000000000000000000000000000000' &&\n        !utils.isAddress(transaction.to)\n    ) {\n        return new Error(`Invalid address of to: ${transaction.to}`)\n    }\n\n    if (transaction.codeFormat !== undefined) {\n        return new Error(`\"codeFormat\" cannot be used with ${transaction.type} transaction`)\n    }\n\n    if (transaction.humanReadable !== undefined) {\n        return new Error(`\"humanReadable\" cannot be used with ${transaction.type} transaction`)\n    }\n\n    if (transaction.gasPrice !== undefined) {\n        return new Error(\n            `\"gasPrice\" cannot be used with ${transaction.type} transaction. Please use the maxPriorityFeePerGas and maxFeePerGas.`\n        )\n    }\n\n    const error = validateNonFeeDelegated(transaction)\n    if (error) return error\n\n    return validateNotAccountTransaction(transaction)\n}\n\nmodule.exports = {\n    validateParams,\n    validateTxType,\n    validateCodeFormat,\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}